<div layout="horizontal" layout-align="center">
    <md-list>
        <div id="content">
            <div ng-repeat="chunk in ::chunks">
                <p ng-if="chunk.divider">{{chunk.title}}</p>
                <md-card ng-if="!chunk.expanded && !chunk.divider" ng-click="chunk.expanded = !chunk.expanded" ng-mouseover="hover = true" ng-mouseout="hover = false">
                    <md-item layout="row">
                        <div>
                            <img class="round-face" src="http://placekitten.com/g/48/48" />
                        </div>
                        <div class="collapsed-row" layout="row" layout-align="start center" flex>
                            <span flex="45"><b>{{ chunk.title }}</b></span>
                            <span flex="45">{{ chunk.description }}</span>
                            <span flex="5"></span>
                            <span flex="10" ng-if="hover">
                                            <md-icon md-font-icon="mdi mdi-archive mdi-24px"></md-icon>
                                        </span>
                        </div>
                    </md-item>
                </md-card>
                <md-card ng-if="chunk.expanded && !chunk.divider" ng-click="chunk.expanded = !chunk.expanded">
                    <div layout="column">
                        <div>
                            <img class="round-face" src="http://placekitten.com/g/48/48" />
                        </div>
                        <md-card-content>
                            <!-- <img src="http://placekitten.com/g/300/300"/> -->
                            <h2>{{ chunk.title }}</h2>
                            <p>{{ chunk.description }}</p>
                            <div ng-if="chunk.content && chunk.content.type === 'QUOTE'">
                                <md-button ng-click="show_quotes = !show_quotes; $event.stopPropagation();">Show {{chunk.content.quotes.length}} quotes</md-button>
                                <div ng-if="show_quotes" ng-repeat="quote in ::chunk.content.quotes">
                                    <md-whiteframe class="md-whiteframe-z1">
                                        <blockquote>{{ quote }}</blockquote>
                                    </md-whiteframe>
                                </div>
                            </div>
                        </md-card-content>
                    </div>
                </md-card>
            </div>
        </div>
    </md-list>
</div>

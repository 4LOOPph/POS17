<div class="row" ng-controller="productStoreCtrl" id="dhan">
    <form role="form">
        <div class="col-md-12">
            <div class=" box-warning m-0">
                <div class="s">
                    <h4 class="box-title">Inventory Tracking</h4>
                </div>
                <div class="box-header" style="padding: 10px 20px;">
                    <div class="" ng-hide="false">
                        <div class="form-inline w100p disp-inline-flex ">
                            <label>
                                <input for="check" type="checkbox" class="checkbox ng-pristine ng-valid ng-empty ng-touched" ng-model="stockTrack" ng-true-value="1" ng-false-value="0" ng-change="changestockTrack(stockTrack)" style="float: left;">
                                <div id="check" class="lab" style="width: 130%;"> Track Stock Level </div>
                            </label>
                        </div>
                    </div>
                    <br></br>
                    <div class="" ng-hide="stockTrack!=1">
                        <div class="form-inline w100p disp-inline-flex ">
                            <div class="input-group">
                                <button ng-click="trackThisProduct()" class="btnflat primary-color fl waves-effect mr-10 " angular-ripple>Save</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="box-body p-0" ng-hide="stockTrack!=1">
                    <table class="table table-hover " data-page-size="10" id="tblStore">
                        <thead>
                            <tr>
                                <th class="">Name</th>
                                <th class="">Current Inventory</th>
                                <th class="">Unit</th>
                                <th class="">Reorder Level</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="var in itemArray | filter:{selected : true}" repeat-end="paginate()">
                                <td>
                                    {{var.name}}
                                </td>
                                <td>
                                    <input ng-init="_pushToStockTrack($index,var.store_id,stockTrackQty[$index],stockTrackLevel[$index],stockTrackUnit[$index])" ng-disabled="!var.selected" type="number" class="form-control" name="" style="margin-top: 7px;border-color: aquamarine;" ng-model="stockTrackQty[$index]" ng-keyup="_pushToStockTrack($index,var.store_id,stockTrackQty[$index],stockTrackLevel[$index],stockTrackUnit[$index])">
                                </td>
                                <td>
                                    <ui-select ng-init="_pushToStockTrack($index,var.store_id,stockTrackQty[$index],stockTrackLevel[$index],stockTrackUnit[$index])" ng-disabled="!var.selected" on-select="_pushToStockTrack($index,var.store_id,stockTrackQty[$index],stockTrackLevel[$index],stockTrackUnit[$index])" ng-model="stockTrackUnit[$index].selected" theme="bootstrap" ng-disabled="inv.unit.disabled" style="width: 150px;" title="Choose a unit">
                                        <ui-select-match placeholder="Select unit...">{{$select.selected.label}}</ui-select-match>
                                        <ui-select-choices repeat="_unit in inv.unit.list | filter: $select.search | limitTo: 4">
                                            <span ng-bind-html="_unit.label | highlight: $select.search"></span>
                                        </ui-select-choices>
                                    </ui-select>
                                </td>
                                <td>
                                    <input ng-init="_pushToStockTrack($index,var.store_id,stockTrackQty[$index],stockTrackLevel[$index],stockTrackUnit[$index])" ng-disabled="!var.selected" type="number" class="form-control" name="" style="margin-top: 7px;border-color: aquamarine;" ng-model="stockTrackLevel[$index]" ng-keyup="_pushToStockTrack($index,var.store_id,stockTrackQty[$index],stockTrackLevel[$index],stockTrackUnit[$index])">
                                </td>
                            </tr>
                        </tbody>
                        <tfoot class="hide-if-no-paging">
                            <tr>
                                <td colspan="6" align="center">
                                    <ul class="pagination"></ul>
                                </td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>
    </form>
</div>

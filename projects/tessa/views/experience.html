<div id="experience" class="wrapper">
    <div class="dis_table xd-success-stories">
        <div class="browse_industry">
            <div class="dis_table_auto">
                <div class="dis_cell btn-group">
                    <div class="input-group input-icon pad_right10 font_medium">
                        <button type="button" class="btn btn-default-alt" ng-class="{'active': (expFilter == 'all')}" ng-click="filterArticle('all')" fa-track-event="['Experience Filter','View','all']">All</button>
                        <button type="button" class="btn btn-default-alt" ng-class="{'active': (expFilter == 'Portfolio')}" ng-click="filterArticle('Portfolio')" fa-track-event="['Experience Filter','View','Portfolio']">Portfolio</button>
                        <button type="button" class="btn btn-default-alt" ng-class="{'active': (expFilter == 'Article')}" ng-click="filterArticle('Article')" fa-track-event="['Experience Filter','View','Article']">Articles</button>
                    </div>
                </div>
                <div class="dis_cell">
                    <div id="filter_industry">
                        <button uib-popover-template="dynamicPopover.templateUrl" popover-trigger="outsideClick" popover-placement="bottom" type="button" class="btn font_medium btn-primary">
                            Filter by Industry
                            <i class="fa fa-caret-down"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div ng-if="expFilter == 'all'" id="masonry-item" style="clear:both">
        <div class="item_experience" ng-repeat="article in ( articlesList | filter:isOnSelectedTag())" ng-if="article.tags.length > 0 && article.is_active == 1">
            <div class="col-md-12 col-lg-12 col-xs-12" ui-sref="main.articlePage({selected_id:article.article_id})" ng-click="trackExperienceAll(article)">
                <div class="panel panel-default">
                    <div class="img_holder" ng-if="!article.thumbnail_media">
                        <img ng-src="{{article.image}}" imageonload err-src="http://placehold.it/750x450" />
                        <span class="loading background-spinner"> <img src="./images/icons/default.gif"></span>
                    </div>
                    <div class="img_holder" ng-if="article.article_thumbnail.media_mimetype == 'image/jpeg' || article.article_thumbnail.media_mimetype == 'image/png'">
                        <img ng-src="{{article.article_thumbnail.media_path}}" imageonload ng-if="article.article_thumbnail" err-src="http://placehold.it/750x450" />
                        <span class="loading background-spinner"> <img src="./images/icons/default.gif"></span>
                    </div>
                    <div class="videogular-container" ng-if="article.article_thumbnail.media_mimetype == 'video/mp4'">
                        <videogular vg-theme="article.article_thumbnail.url">
                            <vg-media vg-src="article.article_thumbnail.media_path"></vg-media>
                            <vg-controls>
                                <vg-play-pause-button></vg-play-pause-button>
                                <vg-time-display>{{ currentTime | date:'mm:ss':'+0000' }}</vg-time-display>
                                <vg-scrub-bar>
                                    <vg-scrub-bar-current-time></vg-scrub-bar-current-time>
                                </vg-scrub-bar>
                                <vg-time-display>{{ timeLeft | date:'mm:ss':'+0000' }}</vg-time-display>
                                <vg-volume>
                                    <vg-mute-button></vg-mute-button>
                                    <vg-volume-bar></vg-volume-bar>
                                </vg-volume>
                                <vg-fullscreen-button></vg-fullscreen-button>
                            </vg-controls>
                            <vg-overlay-play></vg-overlay-play>
                            <vg-buffering></vg-buffering>
                        </videogular>
                    </div>
                    <div id="masonry_body" class="padding_10 blue1  font_bold" ui-sref="main.articlePage({selected_id:article.article_id})" ui-sref="main.articlePage({selected_id:article.article_id})">
                        <h3><a>{{article.title}}</a></h3>
                        <div class="featured_solution font_light">
                            <p ng-bind-html="article.article"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div ng-if="expFilter == 'Portfolio'" id="masonry-item" style="clear:both">
        <div class="item_experience" ng-repeat="article in ( Portfolio | filter:isOnSelectedTag()) track by $index" ng-if="article.tags.length > 0 && article.is_active == 1">
            <div class="col-md-12 col-lg-12 col-xs-12" ui-sref="main.articlePage({selected_id:article.article_id})" ng-click="trackExperiencePortfolio(article)">
                <div class="panel panel-default">
                    <div class="img_holder" ng-if="!article.thumbnail_media">
                        <img ng-src="{{article.image}}" imageonload err-src="http://placehold.it/750x450" />
                        <span class="loading background-spinner"> <img src="./images/icons/default.gif"></span>
                    </div>
                    <div class="img_holder" ng-if="article.article_thumbnail.media_mimetype == 'image/jpeg' || article.article_thumbnail.media_mimetype == 'image/png'">
                        <img ng-src="{{article.article_thumbnail.media_path}}" imageonload ng-if="article.article_thumbnail" err-src="http://placehold.it/750x450" />
                        <span class="loading background-spinner"> <img src="./images/icons/default.gif"></span>
                    </div>
                    <div class="videogular-container" ng-if="article.article_thumbnail.media_mimetype == 'video/mp4'">
                        <videogular vg-theme="article.article_thumbnail.url">
                            <vg-media vg-src="article.article_thumbnail.media_path"></vg-media>
                            <vg-controls>
                                <vg-play-pause-button></vg-play-pause-button>
                                <vg-time-display>{{ currentTime | date:'mm:ss':'+0000' }}</vg-time-display>
                                <vg-scrub-bar>
                                    <vg-scrub-bar-current-time></vg-scrub-bar-current-time>
                                </vg-scrub-bar>
                                <vg-time-display>{{ timeLeft | date:'mm:ss':'+0000' }}</vg-time-display>
                                <vg-volume>
                                    <vg-mute-button></vg-mute-button>
                                    <vg-volume-bar></vg-volume-bar>
                                </vg-volume>
                                <vg-fullscreen-button></vg-fullscreen-button>
                            </vg-controls>
                            <vg-overlay-play></vg-overlay-play>
                            <vg-buffering></vg-buffering>
                        </videogular>
                    </div>
                    <div id="masonry_body" class="padding_10 blue1  font_bold" ui-sref="main.articlePage({selected_id:article.article_id})" ui-sref="main.articlePage({selected_id:article.article_id})">
                        <a>{{article.title}}</a>
                        <br>
                        <div iclass="featured_solution font_light">
                            <p ng-bind-html="article.article"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div ng-if="expFilter == 'Article'" id="masonry-item" style="clear:both">
        <div class="item_experience" ng-repeat="article in ( Article | filter:isOnSelectedTag())" ng-if="article.tags.length > 0 && article.is_active == 1">
            <div class="col-md-12 col-lg-12 col-xs-12" ui-sref="main.articlePage({selected_id:article.article_id})" ng-click="trackExperienceArticles(article)">
                <div class="panel panel-default">
                    <div class="img_holder" ng-if="!article.thumbnail_media">
                        <img ng-src="{{article.image}}" imageonload err-src="http://placehold.it/750x450" />
                        <span class="loading background-spinner"> <img src="./images/icons/default.gif"></span>
                    </div>
                    <div class="img_holder" ng-if="article.article_thumbnail.media_mimetype == 'image/jpeg' || article.article_thumbnail.media_mimetype == 'image/png'">
                        <img ng-src="{{article.article_thumbnail.media_path}}" imageonload ng-if="article.article_thumbnail" err-src="http://placehold.it/750x450" />
                        <span class="loading background-spinner"> <img src="./images/icons/default.gif"></span>
                    </div>
                    <div class="videogular-container" ng-if="article.article_thumbnail.media_mimetype == 'video/mp4'">
                        <videogular vg-theme="article.article_thumbnail.url">
                            <vg-media vg-src="article.article_thumbnail.media_path"></vg-media>
                            <vg-controls>
                                <vg-play-pause-button></vg-play-pause-button>
                                <vg-time-display>{{ currentTime | date:'mm:ss':'+0000' }}</vg-time-display>
                                <vg-scrub-bar>
                                    <vg-scrub-bar-current-time></vg-scrub-bar-current-time>
                                </vg-scrub-bar>
                                <vg-time-display>{{ timeLeft | date:'mm:ss':'+0000' }}</vg-time-display>
                                <vg-volume>
                                    <vg-mute-button></vg-mute-button>
                                    <vg-volume-bar></vg-volume-bar>
                                </vg-volume>
                                <vg-fullscreen-button></vg-fullscreen-button>
                            </vg-controls>
                            <vg-overlay-play></vg-overlay-play>
                            <vg-buffering></vg-buffering>
                        </videogular>
                    </div>
                    <div id="masonry_body" class="padding_10 blue1 font_14 font_bold" ui-sref="main.articlePage({selected_id:article.article_id})" ui-sref="main.articlePage({selected_id:article.article_id})">
                        <a>{{article.title}}</a>
                        <div class="featured_solution font_light">
                            <p ng-bind-html="article.article"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div ng-if="expFilter == 'Article'" >
        <ul class="dynamic-grid" angular-grid="pics" grid-width="300" gutter-size="10" angular-grid-id="gallery" refresh-on-img-load="false">
            <li ng-repeat="article in ( Article | filter:isOnSelectedTag())" class="grid">
                <img ng-src="{{article.image}}" class="grid-img" />
                 <a>{{article.title}}</a>
            </li>
        </ul>
        <div deckgrid class="deckgrid">
            <div class="a-card" ng-repeat="article in ( Article | filter:isOnSelectedTag())">
                <h1>safdsfdsf</h1>
                <img ng-src="{{article.image}}" >
            </div>
        </div>
    </div>
</div>
<style>
#active-experience {
    background: #424242;
}

.grid {
    border: 1px solid #cccccc;
    list-style: none;
    background: #ffffff;
    box-sizing: border-box;
    -moz-box-sizing: border-box;
    -webkit-transition: all 0.6s ease-out;
    transition: all 0.6s ease-out;
}

.grid-img {
    width: 100%;
    vertical-align: middle;
    -webkit-transition: opacity 0.6s ease-out;
    transition: opacity 0.6s ease-out;
    background-color: #fff;
    opacity: 0;
    visibility: hidden;
}

.grid-img.img-loaded {
    visibility: visible;
    opacity: 1;
}
.deckgrid[deckgrid]::before {
    /* Specifies that the grid should have a maximum of 4 columns. Each column will have the classes 'column' and 'column-1-4' */
    content: '4 .column.column-1-4';
    font-size: 0; /* See https://github.com/akoenig/angular-deckgrid/issues/14#issuecomment-35728861 */
    visibility: hidden;
}

.deckgrid .column {
    float: left;
}

.deckgrid .column-1-4 {
    width: 25%;
}
.deckgrid .column-1-1 {
    width: 100%;
}

@media screen and (max-width: 480px){
    .deckgrid[deckgrid]::before {
        content: '1 .column.column-1-1';
    }
}
</style>
<script type="text/ng-template" id="myPopoverTemplate.html">
    <div class="form-group">
        <div class="pad_vertical">
            <input type="search" class="form-control" placeholder="Search..." ng-model="searchIndustry" />
        </div>
        <div class="checkbox" ng-repeat="tag in tagscopy | filter:searchIndustry ">
            <label>
                <input type="checkbox" ng-click="toggleSelectedTag(tag)" ng-model="tag.checked" fa-track-event="event"> {{tag.tags}}
            </label>
        </div>
    </div>
</script>

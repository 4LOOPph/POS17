!function(){"use strict";angular.module("POS17",["ngSanitize","ngAnimate","ui.router","chart.js","angular-flot","ui.bootstrap","textAngular","ngFileUpload","ui.footable","restangular","toastr","angularMoment","angularSpinner","ngDialog","ui.select","mgcrea.ngStrap","LocalStorageModule","dibari.angular-ellipsis","angular-jwt","color.picker","ja.qr"]).constant("API_URL","http://localhost:3000").constant("API_VERSION","/api/1.0/").config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider","RestangularProvider","API_URL","API_VERSION","$provide","localStorageServiceProvider",function(t,r,e,n,o,a,i,s,u){e.html5Mode(!1),r.otherwise("/login"),t.state("main",{url:"/main","abstract":!0,templateUrl:"modules/main.html",controller:"MainCtrl"}),n.interceptors.push("httpInterceptor"),n.interceptors.push("authInterceptor"),s.value("baseURL",a),o.setBaseUrl(a+i)}]).run(["$state","$rootScope","usSpinnerService","AuthFctry","$window",function(t,r,e,n,o){r.currentUser={},r.$state=t,r.previousState,r.currentState,r.$on("loading:progress",function(){e.spin("spinner-1"),r.productIsLoading=!0}),r.$on("loading:finish",function(){e.stop("spinner-1"),r.productIsLoading=!1}),r.$on("unauthorized",function(){n.setCurrentUser(null),n.setUserToken(null),t.go("login")}),r.goBack=function(){o.history.back()},r.$on("$stateChangeSuccess",function(t,e,o,a,i){r.previousState=a.name,r.currentState=e.name,r.currentUser=n.getCurrentUser()})}]).factory("httpInterceptor",["$q","$rootScope",function(t,r){var e=0;return{request:function(n){return 1===++e&&r.$broadcast("loading:progress"),n||t.when(n)},response:function(n){return 0===--e&&r.$broadcast("loading:finish"),n||t.when(n)},responseError:function(n){return 0===--e&&r.$broadcast("loading:finish"),t.reject(n)}}}])}();
!function(){"use strict";function e(e,s,o,r){e.profile={},e.logoutApp=function(){r.logout().then(function(e){200==e.statusCode&&e.response.success&&s.go("login")})},e.getCurrentUser=function(){r.userprofile().then(function(s){if(200==s.statusCode&&s.response.success)console.log("resp: ",s.response),e.profile=s.response.result;else if(400==s.statusCode&&!s.response.success)return void o.error(s.response.msg,"Error")})},e.getCurrentUser()}angular.module("POS17").controller("MainCtrl",e),e.$inject=["$scope","$state","toastr","AuthFctry"]}();
!function(){"use strict";function t(t,e,r,n){t.user={},t.login=function(){n.authenticate(t.user).then(function(t){t.success?(n.setUserToken(t.result.token),n.setCurrentUser(JSON.stringify(t.result.user)),r.success(t.msg,"Success"),e.go("main.dashboard")):r.error(t.msg,"Error")})}}angular.module("POS17").config(["$stateProvider",function(t){t.state("login",{url:"/login",templateUrl:"modules/login/login.html",controller:"LoginCtrl"})}]).controller("LoginCtrl",t),t.$inject=["$scope","$state","toastr","AuthFctry"]}();
!function(){"use strict";function o(o,t){console.log("ForgotPasswordCtrl")}angular.module("POS17").config(["$stateProvider",function(o){o.state("forgot",{url:"/forgotpassword",templateUrl:"modules/forgotpassword/forgotpassword.html",controller:"ForgotPasswordCtrl"})}]).controller("ForgotPasswordCtrl",o),o.$inject=["$scope","$state"]}();
!function(){"use strict";angular.module("POS17").config(["$urlRouterProvider","$stateProvider",function(t,r){r.state("main.products",{url:"/products/overview",templateUrl:"modules/products/products.html",controller:"productsController"}).state("main.products-add",{url:"/products/:p_id",templateUrl:"modules/products/product.details.html",controller:"productsAEController"})}])}();
!function(){"use strict";function e(e,s,t,o,r,a,n,u,i,c,d,l,p){e.suppliers=[],e.ptypes=[],e.attributes=[],e.details={},e.details.start_date=new Date,e.details.end_date=new Date,e.details.is_published=!1,e.details.is_archived=!1,e.isImageNew=!1,u.getAllSuppliers().then(function(s){200==s.statusCode&&s.response.success?e.suppliers=s.response.result:o.error(s.response.msg,"Error")}),n.getAllProdType().then(function(s){200==s.statusCode&&s.response.success?(e.ptypes=s.response.result,e.details.ptype_id=e.ptypes[0].ptype_id):o.error(s.response.msg,"Error")}),_.isEmpty(r.p_id)?(e.showPublish=!1,e.showArchive=!1,e.tabprod={product:!0,store:!1,price:!1,category:!1,attribute:!1,variation:!1},console.log("$scope.tabprod: ",e.tabprod)):a.getProductDetails(r.p_id).then(function(s){200==s.statusCode&&s.response.success&&(e.details=s.response.result,e.showPublish=1!=e.details.is_published,e.showArchive=0==e.details.is_archived,e.tabprod={product:!0,store:!0,price:!0,category:!0,attribute:!0,variation:!0},e.details.start_date=new Date(e.details.start_date),e.details.end_date=new Date(e.details.end_date),e.details.ptype_id=s.response.result.productType_id,e.details.is_published=e.IntToBoolean(e.details.is_published),e.details.is_archived=e.IntToBoolean(e.details.is_archived))}),e.IntToBoolean=function(e){return 1===e},e.BooleanToInt=function(e){return e===!0?1:0},e.removethumb=function(){e.details.img_default=null},e.upload=function(s){e.isImageNew=!0},e.archiveProduct=function(e){a.archiveProduct(e).then(function(e){200==e.statusCode&&e.response.success?(o.success(e.response.msg,"Success"),s.go(s.current,null,{reload:!0})):o.error(e.response.msg,"Error")})},e.publishProduct=function(e){a.publishProduct(e).then(function(e){200==e.statusCode&&e.response.success?(o.success(e.response.msg,"Success"),s.go(s.current,null,{reload:!0})):o.error(e.response.msg,"Error")})},e.addProduct=function(){async.waterfall([function(s){r.p_id?a.updateProduct(r.p_id,e.details).then(function(e){200==e.statusCode&&e.response.success&&(o.success(e.response.msg,"Success"),s(null,r.p_id),console.log("UPDATE"))}):a.saveProduct(e.details).then(function(e){200==e.statusCode&&e.response.success&&(o.success(e.response.msg,"Success"),s(null,e.response.result),console.log("SUCCESS"))})},function(t,r){p.upload({url:d+l+"product/"+t+"/upload-image",data:{product_img:e.details.img_default},method:"PUT"}).then(function(t){if(200===t.data.statusCode&&t.data.response.success)e.isImageNew&&o.success("Image successfully uploaded","Success"),s.go(s.current,null,{reload:!0});else{if(400!==t.data.statusCode||t.data.response.success||!_.isArray(t.data.response.result))return void o.error(t.data.response.msg,"Error");_.each(t.data.response.result,function(e){o.warning(e.msg,"Warning")})}},function(e){console.log("Error status: "+e.status)},function(e){parseInt(100*e.loaded/e.total)})}])}}angular.module("POS17").controller("productsAEController",e),e.$inject=["$scope","$state","$filter","toastr","$stateParams","productFactory","ptypeFactory","supplierFctry","storeFactory","priceHistoryFactory","API_URL","API_VERSION","Upload"]}();
!function(){"use strict";function e(e,r,t,s,o,c,n){e.prodStores=[],e.selectedStores=[],e.applicationStatus="",e.getAllStore=function(){e.stores=[],e.storesCopy=[],async.waterfall([function(r){c.getAllStore().then(function(t){200==t.statusCode&&t.response.success?(e.stores=t.response.result,e.storesCopy=angular.copy(e.stores),r(null,e.stores)):s.error(t.response.msg,"Error")})},function(r,t){o.p_id?n.getPriceHistory(o.p_id).then(function(t){200==t.statusCode&&t.response.success&&t.response.result.length>0?(e.prodStore=t.response.result,_.each(e.storesCopy,function(r){var t=_.find(e.prodStore,function(e){return r.store_id===e.store_id});t&&(r.selected=!0,r.base_price=t.base_price,r.regular_price=t.regular_price,r.rrp=t.rrp,r.sale_price=t.sale_price,r.sale_percent=t.sale_percent,r.fk_product_id=o.p_id,e.selectedStores.push(r))}),e.itemArray=angular.copy(e.storesCopy)):200==t.statusCode&&t.response.success&&0===t.response.result.length?e.itemArray=angular.copy(r):s.error(t.response.msg,"Error")}):e.itemArray=angular.copy(r)}])},e.getAllStore(),e.paginate=function(){$("#tblStore").trigger("footable_redraw")},e.updateStatus=function(r){e.applicationStatus=r,""===r?e.itemArray=angular.copy(e.storesCopy):(e.itemArray.splice(0,e.itemArray.length),_.each(e.storesCopy,function(r){_.find(e.selectedStores,function(e){return r.store_id===e.store_id})&&e.itemArray.push(r)}))},e.searchStore=function(){if(e.txtSearch){e.itemArray.splice(0,e.itemArray.length);var r=t("filter")(e.storesCopy,e.txtSearch);e.itemArray=angular.copy(r)}},e.searchStatus=function(){""===e.txtSearch&&(e.itemArray.splice(0,e.itemArray.length),e.itemArray=angular.copy(e.storesCopy))},e.changeSelectDeselectAll=function(){_.each(e.itemArray,function(r){r.selected=e.selectDeselectAll,e.checkStoresChanges(r)})},e.checkStoresChanges=function(r){if(r.selected){var t=_.find(e.selectedStores,function(e){return e.store_id===r.store_id});t||(r.base_price=0,r.regular_price=0,r.rrp=0,r.sale_price=0,r.sale_percent=0,r.fk_product_id=o.p_id,e.selectedStores.push(r))}else e.selectedStores=_.filter(e.selectedStores,function(e){return e.store_id!==r.store_id})},e.saveStore=function(r){return o.p_id?void n.saveSP(o.p_id,e.selectedStores).then(function(e){200===e.statusCode&&e.response.success?s.success(e.response.msg,"Success"):s.error(e.response.msg,"Error")}):void s.warning("WARNING: Unable to save.. no available products","WARNING")}}angular.module("POS17").controller("productStoreCtrl",e),e.$inject=["$scope","$state","$filter","toastr","$stateParams","storeFactory","priceHistoryFactory"]}();
!function(){"use strict";function e(e,t,r,s,a,o,c,n,i){e.categ={repeatSelect:null,availableOptions:[]},e.categories=[],e.prodCategories=[],e.itemArray=[],e.selectedCategory=[],e.store={},e.applicationStatus="",e.getAllCategory=function(){async.waterfall([function(t){n.getAllCategory().then(function(r){200==r.statusCode&&r.response.success?(e.categ.availableOptions=r.response.result,e.categories=angular.copy(e.categ.availableOptions),t(null,e.categories)):c.error(r.response.msg,"Error")})},function(t,r){a.p_id?i.getProductsCategory(a.p_id).then(function(r){200==r.statusCode&&r.response.success&&r.response.result.length>0?(e.prodCategories=r.response.result,_.each(e.categories,function(t){var r=_.find(e.prodCategories,function(e){return t.c_id===e.fk_category_id});r&&(t.selected=!0,t.fk_category_id=r.fk_category_id,t.fk_product_id=a.p_id,e.selectedCategory.push(t))}),e.itemArray=angular.copy(e.categories)):200==r.statusCode&&r.response.success&&0===r.response.result.length?e.itemArray=angular.copy(t):c.error(r.response.msg,"Error")}):e.itemArray=angular.copy(t)}])},e.getAllCategory(),e.paginate=function(){$("#tblCategory").trigger("footable_redraw")},e.changeSelectDeselectAll=function(){_.each(e.itemArray,function(t){t.selected=e.selectDeselectAll,e.checkStoresChanges(t)})},e.checkStoresChanges=function(t){if(t.selected){var r=_.find(e.selectedCategory,function(e){return e.c_id===t.c_id});_.isUndefined(r)&&(t.fk_category_id=t.c_id,t.fk_product_id=a.p_id,e.selectedCategory.push(t))}else e.selectedCategory=_.filter(e.selectedCategory,function(e){return e.c_id!==t.c_id})},e.updateStatus=function(t){e.applicationStatus=t,""===t?e.itemArray=angular.copy(e.categories):(e.itemArray.splice(0,e.itemArray.length),_.each(e.categories,function(t){_.find(e.selectedCategory,function(e){return t.c_id===e.fk_category_id})&&e.itemArray.push(t)}))},e.searchStore=function(){if(e.txtSearch){e.itemArray.splice(0,e.itemArray.length);var t=o("filter")(e.categories,e.txtSearch);e.itemArray=angular.copy(t)}},e.searchStatus=function(){""===e.txtSearch&&(e.itemArray.splice(0,e.itemArray.length),e.itemArray=angular.copy(e.categories))},e.saveCategory=function(){var t=0;a.p_id&&async.waterfall([function(e){i.deleteProductCategory(a.p_id).then(function(t){200==t.statusCode&&t.response.success?e(null,t.response.result):e(t.response.msg,null)})},function(r,o){_.each(e.selectedCategory,function(r){console.log("selectedCategory: ",r),i.saveProductsCategory(a.p_id,{category_id:r.c_id}).then(function(a){200===a.statusCode&&a.response.success?(c.success(r.name+" - "+a.response.msg,"Success"),t++,t===e.selectedCategory.length&&s.reload()):c.error(a.response.msg,"Error")})})}])}}angular.module("POS17").controller("productCategoryCtrl",e),e.$inject=["$scope","$rootScope","$timeout","$state","$stateParams","$filter","toastr","categoryFactory","productFactory"]}();
!function(){"use strict";function t(t,r,e,s,u,o,i,c){t.getAllProductAttributes=function(){t.attributes=[],i.getProductAttributes(o.p_id).then(function(r){if(200==r.statusCode&&r.response.success){var e=r.response.result;u(function(){t.$apply(function(){t.attributes=e.attributes})})}else s.error(r.response.msg,"Error")})},t.getAllProductAttributes()}angular.module("POS17").controller("productAttributeCtrl",t),t.$inject=["$scope","$state","$filter","toastr","$timeout","$stateParams","productFactory","attributeFactory"]}();
!function(){"use strict";function t(t,e,n,i,o,r,s,u,l){console.log("productVariantsCtrl"),t.attributes=[],t.attributevalues=[],l.getAllAttribute().then(function(e){if(200==e.statusCode&&e.response.success){var n=[];n=e.response.result,o(function(){t.$apply(function(){t.attributes=n})},100)}}),l.getAllAttributeValues().then(function(e){if(200==e.statusCode&&e.response.success){var n=[];n=e.response.result,o(function(){t.$apply(function(){t.attributevalues=n})},100)}}),t.openAttributeModal=function(){var e=s.open({animation:!0,templateUrl:"/modules/products/product.variants.modal.html",controller:"productVariantsModalCtrl",size:"modal-lg",resolve:{attributes:function(){return t.attributes},attributevalues:function(){return t.attributevalues}}});e.result.then(function(e){t.selected=e},function(){console.info("Modal dismissed at: "+new Date)})}}function e(t,e,n,i){t.attributes=n,t.attributevalues=i,t.infiniteScrollContacts={},t.infiniteScrollContacts.numToAdd=10,t.infiniteScrollContacts.currentItems=10,t.infiniteScrollAttributes={},t.infiniteScrollAttributes.numToAdd=10,t.infiniteScrollAttributes.currentItems=10,t.resetInfScroll=function(){t.infiniteScrollContacts.currentItems=t.infiniteScrollContacts.numToAdd},t.addMoreItems=function(){t.infiniteScrollContacts.currentItems+=t.infiniteScrollContacts.numToAdd},t.removethumb=function(){t.attrib.value_image=null},t.ok=function(){e.close(t.selected.item)},t.cancel=function(){e.dismiss("cancel")}}angular.module("POS17").controller("productVariantsCtrl",t).controller("productVariantsModalCtrl",e),t.$inject=["$scope","$state","$filter","toastr","$timeout","$stateParams","$uibModal","productFactory","attributeFactory"],e.inject=["$scope","$uibModalInstance","attributes"]}();
!function(){"use strict";function t(t,e,r,o,c,a){t.search={},t.currentPage=1,t.entryLimit=5,t.selectDeselectAll=!1,t.applicationStatus="All",t.displayModel="List",t.viewby=25,t.pageSize=t.viewby,t.currentPage=1,t.itemsPerPage=20,t.totalUsers=0;var s=function(){t.products=[],t.productscopy=[],a.getAllProduct().then(function(e){if(200==e.statusCode&&e.response.success){var r=e.response.result;t.productscopy=angular.copy(r),c(function(){t.$apply(function(){t.products=r,t.totalItems=t.products.length,t.noOfPages=Math.ceil(t.totalItems/t.entryLimit)}),$(".table").trigger("footable_redraw")},200)}else toastr.error(e.response.msg,"Error")})};t.setPage=function(e){t.currentPage=e},t.setItemsPerPage=function(e){t.itemsPerPage=e,t.currentPage=1},t.edit=function(t){o.go("main.products-add",{p_id:t})},t.searchData=function(){c(function(){t.$apply(function(){t.products=r("filter")(t.productscopy,t.txtSearch)}),c(function(){$(".table").trigger("footable_redraw")},1500),$(".table").trigger("footable_redraw")},200)},t.refresh=function(){s()},t.updateStatus=function(e){t.applicationStatus=e;var o=[];"All"==e?o=t.productscopy:"Publish"==e?o=r("filter")(t.productscopy,{is_published:1}):"Archived"==e?o=r("filter")(t.productscopy,{is_archived:1}):"Draft"==e&&(o=r("filter")(t.productscopy,{is_published:0})),c(function(){t.$apply(function(){t.products=o}),$(".table").trigger("footable_redraw")},100)},t.paginate=function(){$(".table").trigger("footable_redraw")},t.changeSelectDeselectAll=function(){_.each(t.products,function(e){e.selected=t.selectDeselectAll})},t.refresh()}angular.module("POS17").controller("productsController",t),t.$inject=["$scope","$http","$filter","$state","$timeout","productFactory"]}();
!function(){"use strict";angular.module("POS17").config(["$urlRouterProvider","$stateProvider",function(a,t){t.state("main.analytics-overview",{url:"/analytics/overview",templateUrl:"modules/analytics/chartjs.html"}).state("main.analytics-appoverview",{url:"/analytics/appoverview",templateUrl:"modules/analytics/inline.html"}).state("main.analytics-behavior",{url:"/analytics/behavior",templateUrl:"modules/analytics/flot.html"}).state("main.analytics-audience",{url:"/analytics/audience",templateUrl:"modules/analytics/morris.html"})}])}();
!function(){"use strict";function t(t,a,o){t.$log=a,t.data=[],t.myChartOptions={grid:{borderColor:"#f3f3f3",borderWidth:1,tickColor:"#f3f3f3"},series:{shadowSize:0,color:"#3c8dbc"},lines:{fill:!0,color:"#3c8dbc"},yaxis:{min:0,max:100,show:!0},xaxis:{show:!0}},t.totalPoints=100,t.updateInterval=500,t.realtime=1,t.getRandomData=function(){for(t.data.length>0&&(t.data=t.data.slice(1));t.data.length<t.totalPoints;){var a=t.data.length>0?t.data[t.data.length-1]:50,o=a+10*Math.random()-5;0>o?o=0:o>100&&(o=100),t.data.push(o)}for(var e=[],r=0;r<t.data.length;++r)e.push([r,t.data[r]]);return e},t.update=function(){t.data=[t.getRandomData()],1==t.realtime&&setTimeout(t.update,t.updateInterval)}}function a(t){for(var a=[],o=[],e=0;14>e;e+=.5)a.push([e,Math.sin(e)]),o.push([e,Math.cos(e)]);var r={data:a,color:"#3c8dbc"},i={data:o,color:"#00c0ef"};t.myData=[r,i],t.myChartOptions={grid:{hoverable:!0,borderColor:"#f3f3f3",borderWidth:1,tickColor:"#f3f3f3"},series:{shadowSize:0,lines:{show:!0},points:{show:!0}},lines:{fill:!1,color:["#3c8dbc","#f56954"]},yaxis:{show:!0},xaxis:{show:!0}}}function o(t){var a=[[2,88],[3,93.3],[4,102],[5,108.5],[6,115.7],[7,115.6],[8,124.6],[9,130.3],[10,134.3],[11,141.4],[12,146.5],[13,151.7],[14,159.9],[15,165.4],[16,167.8],[17,168.7],[18,169.5],[19,168]];t.myData=[a],t.myChartOptions={grid:{borderWidth:0},series:{shadowSize:0,color:"#00c0ef"},lines:{fill:!0},yaxis:{show:!1},xaxis:{show:!1}}}function e(t){t.myData=[{data:[["January",10],["February",8],["March",4],["April",13],["May",17],["June",9]],color:"#3c8dbc"}],t.myChartOptions={grid:{borderWidth:1,borderColor:"#f3f3f3",tickColor:"#f3f3f3"},series:{bars:{show:!0,barWidth:.5,align:"center"}},xaxis:{mode:"categories",tickLength:0}}}function r(t){function a(t,a){return"<div style='font-size:13px; text-align:center; padding:2px; color: #fff; font-weight: 600;'>"+t+"<br/>"+Math.round(a.percent)+"%</div>"}t.myData=[{label:"Series2",data:30,color:"#3c8dbc"},{label:"Series3",data:20,color:"#0073b7"},{label:"Series4",data:50,color:"#00c0ef"}],t.myChartOptions={series:{pie:{show:!0,radius:1,innerRadius:.5,label:{show:!0,radius:2/3,formatter:a,threshold:.1}}},legend:{show:!1}}}angular.module("POS17").controller("FlotInteractive",t).controller("FlotLineChart",a).controller("FlotAreaChart",o).controller("FlotBarChart",e).controller("FlotDonutChart",r),t.$inject=["$scope","$log","$element"],a.$inject=["$scope"],o.$inject=["$scope"],e.$inject=["$scope"],r.$inject=["$scope"]}();
!function(){"use strict";function e(e,o){e.labels=["January","February","March","April","May","June","July"],e.series=["Series A","Series B"],e.data=[[65,59,80,81,56,55,40],[28,48,40,19,86,27,90]],e.onClick=function(e,o){console.log(e,o)},e.onHover=function(e){e.length>0?console.log("Point",e[0].value):console.log("No point")},o(function(){e.labels=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],e.data=[[28,48,40,19,86,27,90],[65,59,80,81,56,55,40]],e.series=["Series C","Series D"]},3e3)}function o(e,o){e.options={scaleShowVerticalLines:!1},e.labels=["2006","2007","2008","2009","2010","2011","2012"],e.series=["Series A","Series B"],e.data=[[65,59,80,81,56,55,40],[28,48,40,19,86,27,90]],o(function(){e.options={scaleShowVerticalLines:!0}},3e3)}function l(e,o){e.labels=["Download Sales","In-Store Sales","Mail-Order Sales"],e.data=[0,0,0],o(function(){e.data=[350,450,100]},500)}function a(e){e.labels=["Download Sales","In-Store Sales","Mail Sales"],e.data=[300,500,100]}function n(e){e.labels=["Download Sales","In-Store Sales","Mail Sales","Telesales","Corporate Sales"],e.data=[300,500,100,40,120]}angular.module("POS17").controller("LineCtrl",e).controller("BarCtrl",o).controller("DoughnutCtrl",l).controller("PieCtrl",a).controller("PolarAreaCtrl",n),e.$inject=["$scope","$timeout"],o.$inject=["$scope","$timeout"],l.$inject=["$scope","$timeout"],a.$inject=["$scope"],n.$inject=["$scope"]}();
!function(){"use strict";angular.module("POS17").config(["$urlRouterProvider","$stateProvider",function(l,m){m.state("main.mailbox",{url:"/mailbox/overview",templateUrl:"modules/mailbox/mailbox.html"}).state("main.mailbox-compose",{url:"/mailbox/compose",templateUrl:"modules/mailbox/compose.html"}).state("main.mailbox-read",{url:"/mailbox/read",templateUrl:"modules/mailbox/read-mail.html"})}])}();
!function(){"use strict";angular.module("POS17").config(["$urlRouterProvider","$stateProvider",function(t,e){e.state("main.settings-stores",{url:"/settings/stores",templateUrl:"modules/stores/stores.html",controller:"storesController"}).state("main.settings-stores-add",{url:"/settings/stores/:store_id",templateUrl:"modules/stores/store.detail.html",controller:"storesDetailController"})}])}();
!function(){"use strict";function e(e,t,s,o,n,r,l,c){e.selectDeselectAll=!1,e.selectedDatas=[];var a=function(){e.stores=[],e.storescopy=[],l.getAllStore().then(function(t){if(200==t.statusCode&&t.response.success){var s=t.response.result;c(function(){e.$apply(function(){e.stores=s,e.storescopy=angular.copy(e.stores)}),$(".table").trigger("footable_redraw")},100)}})};e.edit=function(e){o.go("main.settings-stores-add",{store_id:e})},e.searchData=function(){e.stores=s("filter")(e.storescopy,e.txtSearch)},e.paginate=function(){$(".table").trigger("footable_redraw")},e.changeSelectDeselectAll=function(){_.each(e.stores,function(t){t.selected=e.selectDeselectAll,e.deleteSomeData=e.selectDeselectAll,e.checkDataChanges(t)})},e.refresh=function(){a()},e.checkDataChanges=function(t){t.selected?_.find(e.selectedDatas,function(e){return e.store_id===t.store_id})||e.selectedDatas.push(t):e.selectedDatas=_.filter(e.selectedDatas,function(e){return e.store_id!==t.store_id}),e.deleteSomeData=e.selectedDatas.length>0},e.toggleModal=function(t){r.openConfirm({templateUrl:"modules/dialog/deleteDialog.html",scope:e,className:"ngdialog-theme-default"}).then(function(){l.deleteStore(t).then(function(e){return 200==e.statusCode&&e.response.success?(n.success(e.response.msg,"Success"),void o.reload()):void n.error(e.response.msg,"Error")})},function(e){console.log("Modal promise close: ")})},e.deleteSelected=function(){r.openConfirm({templateUrl:"modules/dialog/deleteDialog.html",scope:e,className:"ngdialog-theme-default"}).then(function(){var t=0;async.each(e.selectedDatas,function(s,r){s.selected&&(console.log("store: ",s),l.deleteStore(s.store_id).then(function(s){return console.log("data: ",s.response),200==s.statusCode&&s.response.success?(n.success(s.response.msg,"Success"),++t,t==e.selectedDatas.length&&o.reload(),r(),void 0):void n.error(s.response.msg,"Error")}))})})},e.refresh()}angular.module("POS17").controller("storesController",e),e.$inject=["$scope","$http","$filter","$state","toastr","ngDialog","storeFactory","$timeout"]}();
!function(){"use strict";function s(s,e,t,r,o,n,i,c){s.details={},r.store_id&&c.getStoreDetails(r.store_id).then(function(e){200==e.statusCode&&e.response.success&&(s.details=e.response.result)}),s.saveStore=function(){r.store_id?c.updateStore(r.store_id,s.details).then(function(s){if(200==s.statusCode&&s.response.success)i.success(s.response.msg,"Success"),o(function(){n.go("main.settings-stores")},300);else{if(400!==s.statusCode||s.response.success||!_.isArray(s.response.result))return void i.error(s.response.msg,"Error");_.each(s.response.result,function(s){i.warning(s.msg,"Warning")})}}):c.saveStore(s.details).then(function(s){if(console.log("data:",s),200==s.statusCode&&s.response.success)i.success(s.response.msg,"Success"),o(function(){n.go("main.settings-stores")},300);else{if(400!==s.statusCode||s.response.success||!_.isArray(s.response.result))return void i.error(s.response.msg,"Error");_.each(s.response.result,function(s){i.warning(s.msg,"Warning")})}})}}angular.module("POS17").controller("storesDetailController",s),s.$inject=["$scope","$http","$filter","$stateParams","$timeout","$state","toastr","storeFactory"]}();
!function(){"use strict";angular.module("POS17").config(["$urlRouterProvider","$stateProvider",function(t,n){n.state("main.settings-banks",{url:"/settings/banks",templateUrl:"modules/banks/banks.html",controller:"banksController"}).state("main.settings-banks-add",{url:"/settings/banks/:bk_id",templateUrl:"modules/banks/bank.detail.html",controller:"bankDetailsController"})}])}();
!function(){"use strict";function e(e,t,s,n,a,c,l,o){e.selectDeselectAll=!1,e.selectedDatas=[];var r=function(){e.banks={},e.bankscopy=[],l.getAllBanks().then(function(t){if(200==t.statusCode&&t.response.success){var s=t.response.result;o(function(){e.$apply(function(){e.banks=s,e.bankscopy=angular.copy(e.banks)}),$(".table").trigger("footable_redraw")},100)}})};e.refresh=function(){r()},e.edit=function(e){n.go("main.settings-banks-add",{bk_id:e})},e.searchData=function(){e.banks=s("filter")(e.bankscopy,e.txtSearch)},e.paginate=function(){$(".table").trigger("footable_redraw")},e.changeSelectDeselectAll=function(){_.each(e.banks,function(t){t.selected=e.selectDeselectAll,e.deleteSomeData=e.selectDeselectAll,e.checkDataChanges(t)})},e.checkDataChanges=function(t){t.selected?_.find(e.selectedDatas,function(e){return e.bk_id===t.bk_id})||e.selectedDatas.push(t):e.selectedDatas=_.filter(e.selectedDatas,function(e){return e.bk_id!==t.bk_id}),e.deleteSomeData=e.selectedDatas.length>0},e.deleteSelected=function(){a.openConfirm({templateUrl:"modules/dialog/deleteDialog.html",scope:e,className:"ngdialog-theme-default"}).then(function(){var t=0;async.each(e.selectedDatas,function(s,a){s.selected&&(console.log("bank: ",s),l.deleteBank(s.bk_id).then(function(s){return console.log("data: ",s.response),200==s.statusCode&&s.response.success?(c.success(s.response.msg,"Success"),++t,t==e.selectedDatas.length&&n.reload(),a(),void 0):void c.error(s.response.msg,"Error")}))})})},e.refresh()}angular.module("POS17").controller("banksController",e),e.$inject=["$scope","$http","$filter","$state","ngDialog","toastr","bankFctry","$timeout"]}();
!function(){"use strict";function s(s,e,n,t,r,o,a){s.details={},n.bk_id&&a.getBankDetails(n.bk_id).then(function(e){200==e.statusCode&&e.response.success&&(s.details=e.response.result)}),s.saveBank=function(){n.bk_id?a.updateBank(stateParams.bk_id,s.details).then(function(s){if(200==s.statusCode&&s.response.success)r(function(){o.success("Successfully Update","Success"),t.go("main.settings-banks")},300);else{if(400!==s.statusCode||s.response.success||!_.isArray(s.response.result))return void o.error(s.response.msg,"Error");_.each(s.response.result,function(s){o.warning(s.msg,"Warning")})}}):a.saveBank(s.details).then(function(s){if(console.log("data:",s),200==s.statusCode&&s.response.success)r(function(){o.success("Successfully Added","Success"),t.go("main.settings-banks")},300);else{if(400!==s.statusCode||s.response.success||!_.isArray(s.response.result))return void o.error(s.response.msg,"Error");_.each(s.response.result,function(s){o.warning(s.msg,"Warning")})}})}}angular.module("POS17").controller("bankDetailsController",s),s.$inject=["$scope","$http","$stateParams","$state","$timeout","toastr","bankFctry"]}();
!function(){"use strict";angular.module("POS17").config(["$urlRouterProvider","$stateProvider",function(t,e){e.state("main.settings-attributes",{url:"/settings/attributes",templateUrl:"modules/attributes/attributes.html",controller:"attributesController"}).state("main.settings-attributes-groups",{url:"/settings/attributegroups",templateUrl:"modules/attributes/attributes.groups.html",controller:"attributeGroups"}).state("main.settings-attributes-types",{url:"/settings/attributetypes",templateUrl:"modules/attributes/attributes.types.html",controller:"attributeTypes"}).state("main.settings-attributes-add",{url:"/settings/attributes/:att_id",templateUrl:"modules/attributes/attribute.detail.html",controller:"attributeDetailsController"})}])}();
!function(){"use strict";function e(e,t,s,a,o,n,l,c){e.selectDeselectAll=!1,e.selectedDatas=[];var r=function(){e.attribute=[],e.attributecopy=[],l.getAllAttribute().then(function(t){if(200==t.statusCode&&t.response.success){var s=t.response.result;c(function(){e.$apply(function(){e.attribute=s,e.attributecopy=angular.copy(e.attribute)}),$(".table").trigger("footable_redraw")},100)}})};e.refresh=function(){r()},e.edit=function(e){a.go("main.settings-attributes-add",{att_id:e})},e.searchData=function(){e.attribute=s("filter")(e.attributecopy,e.txtSearch)},e.paginate=function(){$(".table").trigger("footable_redraw")},e.changeSelectDeselectAll=function(){_.each(e.attribute,function(t){t.selected=e.selectDeselectAll,e.deleteSomeData=e.selectDeselectAll,e.checkDataChanges(t)})},e.checkDataChanges=function(t){t.selected?_.find(e.selectedDatas,function(e){return e.att_id===t.att_id})||e.selectedDatas.push(t):e.selectedDatas=_.filter(e.selectedDatas,function(e){return e.att_id!==t.att_id}),e.deleteSomeData=e.selectedDatas.length>0},e.toggleModal=function(t){o.openConfirm({templateUrl:"modules/dialog/deleteDialog.html",scope:e,className:"ngdialog-theme-default"}).then(function(){l.deleteAttribute(t).then(function(e){return 200==e.statusCode&&e.response.success?(n.success(e.response.msg,"Success"),void a.reload()):void n.error(e.response.msg,"Error")})},function(e){console.log("Modal promise close: ")})},e.deleteSelected=function(){o.openConfirm({templateUrl:"modules/dialog/deleteDialog.html",scope:e,className:"ngdialog-theme-default"}).then(function(){var t=0;async.each(e.selectedDatas,function(s,o){s.selected&&(console.log("attribute: ",s),l.deleteAttribute(s.att_id).then(function(s){return console.log("data: ",s.response),200==s.statusCode&&s.response.success?(n.success(s.response.msg,"Success"),++t,t==e.selectedDatas.length&&a.reload(),o(),void 0):void n.error(s.response.msg,"Error")}))})})},e.refresh()}angular.module("POS17").controller("attributesController",e),e.$inject=["$scope","$http","$filter","$state","ngDialog","toastr","attributeFactory","$timeout"]}();
!function(){"use strict";function s(s,e,t,i,a,r,l){s.details={},s.details.is_visible=1==s.details.is_visible,s.details.is_search=1==s.details.is_search,s.details.is_required=1==s.details.is_required,s.details.is_variation=1==s.details.is_variation,s.details.is_customizable=1==s.details.is_customizable,s.details.is_unique=1==s.details.is_unique,s.details.is_comparable=1==s.details.is_comparable,async.waterfall([function(s){i.getAllAttributeTypes().then(function(e){200==e.statusCode&&e.response.success&&s(null,e.response.result)})},function(e,a){s.types=e,t.att_id&&i.getAllAttributeDetails(t.att_id).then(function(e){200==e.statusCode&&e.response.success&&(s.details=e.response.result,s.details.is_visible=1==s.details.is_visible,s.details.is_search=1==s.details.is_search,s.details.is_required=1==s.details.is_required,s.details.is_variation=1==s.details.is_variation,s.details.is_customizable=1==s.details.is_customizable,s.details.is_unique=1==s.details.is_unique,s.details.is_comparable=1==s.details.is_comparable)})}]),s.saveAttribute=function(){t.att_id?i.updateAttribute(t.att_id,s.details).then(function(s){if(200==s.statusCode&&s.response.success)a(function(){r.success("Successfully Update","Success"),l.go("main.settings-attributes",null,{reload:!0})},300);else{if(400!==s.statusCode||s.response.success||!_.isArray(s.response.result))return void r.error(s.response.msg,"Error");_.each(s.response.result,function(s){r.warning(s.msg,"Warning")})}}):i.saveAttribute(s.details).then(function(s){if(200==s.statusCode&&s.response.success)a(function(){r.success("Successfully Added","Success"),l.go("main.settings-attributes",null,{reload:!0})},300);else{if(400!==s.statusCode||s.response.success||!_.isArray(s.response.result))return void r.error(s.response.msg,"Error");_.each(s.response.result,function(s){r.warning(s.msg,"Warning")})}})}}angular.module("POS17").controller("attributeDetailsController",s),s.$inject=["$scope","$http","$stateParams","attributeFactory","$timeout","toastr","$state"]}();
!function(){"use strict";function e(e,t,s,o,n,r,a,c,l){e.selectDeselectAll=!1,e.selectedDatas=[];var u=function(){c.getAllAttributeGroup().then(function(t){if(e.groups=[],e.attributecopy=[],200==t.statusCode&&t.response.success){var s=t.response.result;_.each(s,function(e){e.date_created=moment(e.date_created).format("YYYY-MM-DD")}),a(function(){e.$apply(function(){e.groups=s,e.attributecopy=angular.copy(e.groups)}),$(".table").trigger("footable_redraw")},100)}})};e.refresh=function(){u()},e.searchData=function(){e.groups=s("filter")(e.attributecopy,e.txtSearch)},e.paginate=function(){$(".table").trigger("footable_redraw")},e.changeSelectDeselectAll=function(){_.each(e.groups,function(t){t.selected=e.selectDeselectAll,e.deleteSomeData=e.selectDeselectAll,e.checkDataChanges(t)})},e.checkDataChanges=function(t){t.selected?_.find(e.selectedDatas,function(e){return e.attgrp_id===t.attgrp_id})||e.selectedDatas.push(t):e.selectedDatas=_.filter(e.selectedDatas,function(e){return e.attgrp_id!==t.attgrp_id}),e.deleteSomeData=e.selectedDatas.length>0},e.toggleModal=function(t){n.openConfirm({templateUrl:"modules/dialog/deleteDialog.html",scope:e,className:"ngdialog-theme-default"}).then(function(){c.deleteAttributeGroup(t).then(function(e){return 200==e.statusCode&&e.response.success?(r.success(e.response.msg,"Success"),void o.reload()):void r.error(e.response.msg,"Error")})},function(e){console.log("Modal promise close: ")})},e.deleteSelected=function(){n.openConfirm({templateUrl:"modules/dialog/deleteDialog.html",scope:e,className:"ngdialog-theme-default"}).then(function(){var t=0;async.each(e.selectedDatas,function(s,n){s.selected&&(console.log("groups: ",s),c.deleteAttributeGroup(s.attgrp_id).then(function(s){return console.log("data: ",s.response),200==s.statusCode&&s.response.success?(r.success(s.response.msg,"Success"),++t,t==e.selectedDatas.length&&o.reload(),n(),void 0):void r.error(s.response.msg,"Error")}))})})},e.addGroups=function(s){var o=t.open({animation:!0,templateUrl:"./modules/attributes/attribute.groups.modal.html",controller:"attributeModal",size:"md",resolve:{items:function(){return s}}});o.result.then(function(t){e.selected=t},function(){l.info("Modal dismissed at: "+new Date)})},e.refresh()}function t(e,t,s,o,n,r){e.items=o,e.group={},console.log("items:",e.items),e.items&&n.getAllAttributeGroupDetails(e.items).then(function(t){200==t.statusCode&&t.response.success&&(console.log("data:",t.response.result),e.group=t.response.result)}),e.saveGroup=function(){e.items?n.updateAttributeGroup(e.items,e.group).then(function(e){200==e.statusCode&&e.response.success&&(console.log("UPDATE"),t.reload(),s.close(e.response.success))}):n.saveAttributeGroup(e.group).then(function(o){200==o.statusCode&&o.response.success&&r(function(){e.$apply(function(){t.reload(),s.close(o.response.success)})},100)})},e.cancel=function(){s.dismiss("cancel")}}angular.module("POS17").controller("attributeGroups",e).controller("attributeModal",t),e.$inject=["$scope","$uibModal","$filter","$state","ngDialog","toastr","$timeout","attributeFactory","$log"],t.$inject=["$scope","$state","$uibModalInstance","items","attributeFactory","$timeout"]}();
!function(){"use strict";function e(e,t,a,c,s){e.selectDeselectAll=!1,e.selectedDatas=[];var l=function(){e.types=[],e.typescopy=[],s.getAllAttributeTypes().then(function(t){200==t.statusCode&&t.response.success&&(e.types=t.response.result,_.each(e.types,function(t){t.date_created=moment(t.date_created).format("YYYY-MM-DD"),e.typescopy=angular.copy(e.types)}))})};e.refresh=function(){l()},e.changeSelectDeselectAll=function(){_.each(e.types,function(t){t.selected=e.selectDeselectAll,e.deleteSomeData=e.selectDeselectAll,e.checkDataChanges(t)})},e.searchData=function(){e.types=t("filter")(e.typescopy,e.txtSearch)},e.paginate=function(){$(".table").trigger("footable_redraw")},e.checkDataChanges=function(t){t.selected?_.find(e.selectedDatas,function(e){return e.id===t.id})||e.selectedDatas.push(t):e.selectedDatas=_.filter(e.selectedDatas,function(e){return e.id!==t.id}),e.deleteSomeData=e.selectedDatas.length>0},e.deleteSelected=function(){a.openConfirm({templateUrl:"modules/dialog/deleteDialog.html",scope:e,className:"ngdialog-theme-default"}).then(function(){})},e.refresh()}angular.module("POS17").controller("attributeTypes",e),e.$inject=["$scope","$filter","ngDialog","toastr","attributeFactory"]}();
!function(){"use strict";angular.module("POS17").config(["$urlRouterProvider","$stateProvider",function(t,e){e.state("main.settings-categories",{url:"/settings/categories",templateUrl:"modules/category/categories.html",controller:"categoryController"}).state("main.settings-categories-add",{url:"/settings/categories/:c_id",templateUrl:"modules/category/category.detail.html",controller:"categoryDetailsController"})}])}();
!function(){"use strict";function e(e,t,s,o,c,a,n,l){e.selectDeselectAll=!1,e.selectedDatas=[];var r=function(){e.categories={},e.categoriescopy=[],n.getAllCategory().then(function(t){if(200==t.statusCode&&t.response.success){var s=t.response.result;l(function(){e.$apply(function(){e.categories=s,e.categoriescopy=angular.copy(e.categories)}),$(".table").trigger("footable_redraw")},100)}})};e.refresh=function(){r()},e.edit=function(e){o.go("main.settings-categories-add",{c_id:e})},e.searchData=function(){e.categories=s("filter")(e.categoriescopy,e.txtSearch)},e.paginate=function(){$(".table").trigger("footable_redraw")},e.changeSelectDeselectAll=function(){_.each(e.categories,function(t){t.selected=e.selectDeselectAll,e.deleteSomeData=e.selectDeselectAll,e.checkDataChanges(t)})},e.checkDataChanges=function(t){t.selected?_.find(e.selectedDatas,function(e){return e.c_id===t.c_id})||e.selectedDatas.push(t):e.selectedDatas=_.filter(e.selectedDatas,function(e){return e.c_id!==t.c_id}),e.deleteSomeData=e.selectedDatas.length>0},e.toggleModal=function(t){c.openConfirm({templateUrl:"modules/dialog/deleteDialog.html",scope:e,className:"ngdialog-theme-default"}).then(function(){n.deleteCategory(t).then(function(e){return 200==e.statusCode&&e.response.success?(a.success(e.response.msg,"Success"),void o.reload()):void a.error(e.response.msg,"Error")})},function(e){console.log("Modal promise close: ")})},e.deleteSelected=function(){c.openConfirm({templateUrl:"modules/dialog/deleteDialog.html",scope:e,className:"ngdialog-theme-default"}).then(function(){var t=0;async.each(e.selectedDatas,function(s,c){s.selected&&(console.log("category: ",s),n.deleteCategory(s.c_id).then(function(s){return console.log("data: ",s.response),200==s.statusCode&&s.response.success?(a.success(s.response.msg,"Success"),++t,t==e.selectedDatas.length&&o.reload(),c(),void 0):void a.error(s.response.msg,"Error")}))})})},e.refresh()}angular.module("POS17").controller("categoryController",e),e.$inject=["$scope","$http","$filter","$state","ngDialog","toastr","categoryFactory","$timeout"]}();
!function(){"use strict";function e(e,s,t,a,o,n,c,r){e.details={},e.newImage=!1,t.c_id&&a.getCategoryDetails(t.c_id).then(function(s){200==s.statusCode&&s.response.success&&(e.details=s.response.result)}),e.removethumb=function(){e.details.c_image=null,e.newImage=!1},e.upload=function(s){e.newImage=!0},e.saveCategory=function(){async.waterfall([function(s){t.c_id?a.updateCategory(t.c_id,e.details).then(function(e){200==e.statusCode&&e.response.success&&(console.log("UPDATE"),r.success(e.response.msg,"Success"),s(null,t.c_id))}):a.saveCategory(e.details).then(function(e){200==e.statusCode&&e.response.success&&(console.log("SUCCESS"),r.success(e.response.msg,"Success"),s(null,e.response.result))})},function(t,a){e.details.c_image&&o.upload({url:n+c+"categories/"+t+"/upload-image",data:{c_image:e.details.c_image},method:"PUT"}).then(function(t){if(200===t.data.statusCode&&t.data.response.success)e.newImage&&r.success("Image successfully uploaded","Success"),s.go(s.current,null,{reload:!0});else{if(400!==t.data.statusCode||t.data.response.success||!_.isArray(t.data.response.result))return void r.error(t.data.response.msg,"Error");_.each(t.data.response.result,function(e){r.warning(e.msg,"Warning")})}},function(e){console.log("Error status: "+e.status)},function(e){parseInt(100*e.loaded/e.total)})}])}}angular.module("POS17").controller("categoryDetailsController",e),e.$inject=["$scope","$state","$stateParams","categoryFactory","Upload","API_URL","API_VERSION","toastr"]}();
!function(){"use strict";angular.module("POS17").config(["$urlRouterProvider","$stateProvider",function(e,r){r.state("main.settings-currencies",{url:"/settings/currencies",templateUrl:"modules/currencies/currencies.html",controller:"currenciesController"})}])}();
!function(){"use strict";function e(e,r,c,n){var t=function(){e.currencies=[],e.currenciescopy=[],n.getAllCurrencies().then(function(r){200==r.statusCode&&r.response.success&&(e.currencies=r.response.result,e.currenciescopy=angular.copy(e.currencies))})};e.paginate=function(){$(".table").trigger("footable_redraw")},e.searchData=function(){e.currencies=r("filter")(e.currenciescopy,e.txtSearch)},e.refresh=function(){t()},e.refresh()}angular.module("POS17").controller("currenciesController",e),e.$inject=["$scope","$filter","$timeout","currencyFactory"]}();
!function(){"use strict";angular.module("POS17").config(["$urlRouterProvider","$stateProvider",function(t,e){e.state("main.settings-producttype",{url:"/settings/producttype",templateUrl:"modules/productType/productTypes.html",controller:"productTypeController"}).state("main.settings-producttype-add",{url:"/settings/producttype/:ptype_id",templateUrl:"modules/productType/productType.detail.html",controller:"producttypeDetailController"})}])}();
!function(){"use strict";function e(e,t,s,o,c,n,l,r){e.selectDeselectAll=!1,e.selectedDatas=[];var a=function(){e.producttypes={},e.producttypescopy=[],l.getAllProdType().then(function(t){if(200==t.statusCode&&t.response.success){var s=t.response.result;r(function(){e.$apply(function(){e.producttypes=s,e.producttypescopy=angular.copy(e.producttypes)}),$(".table").trigger("footable_redraw")},100)}})};e.refresh=function(){a()},e.edit=function(e){s.go("main.settings-producttype-add",{ptype_id:e})},e.searchData=function(){e.producttypes=o("filter")(e.producttypescopy,e.txtSearch)},e.paginate=function(){$(".table").trigger("footable_redraw")},e.changeSelectDeselectAll=function(){_.each(e.producttypes,function(t){t.selected=e.selectDeselectAll,e.deleteSomeData=e.selectDeselectAll,e.checkDataChanges(t)})},e.checkDataChanges=function(t){t.selected?_.find(e.selectedDatas,function(e){return e.ptype_id===t.ptype_id})||e.selectedDatas.push(t):e.selectedDatas=_.filter(e.selectedDatas,function(e){return e.ptype_id!==t.ptype_id}),e.deleteSomeData=e.selectedDatas.length>0},e.toggleModal=function(t){c.openConfirm({templateUrl:"modules/dialog/deleteDialog.html",scope:e,className:"ngdialog-theme-default"}).then(function(){l.deleteProductType(t).then(function(e){return 200==e.statusCode&&e.response.success?(n.success(e.response.msg,"Success"),void s.reload()):void n.error(e.response.msg,"Error")})},function(e){console.log("Modal promise close: ")})},e.deleteSelected=function(){c.openConfirm({templateUrl:"modules/dialog/deleteDialog.html",scope:e,className:"ngdialog-theme-default"}).then(function(){var t=0;async.each(e.selectedDatas,function(o,c){o.selected&&(console.log("producttype: ",o),l.deleteProductType(o.ptype_id).then(function(o){return console.log("data: ",o.response),200==o.statusCode&&o.response.success?(n.success(o.response.msg,"Success"),++t,t==e.selectedDatas.length&&s.reload(),c(),void 0):void n.error(o.response.msg,"Error")}))})})},e.refresh()}angular.module("POS17").controller("productTypeController",e),e.$inject=["$scope","$http","$state","$filter","ngDialog","toastr","ptypeFactory","$timeout"]}();
!function(){"use strict";function e(e,s,t,o,a,n,l,u){e.details={},e.newImage=!1,t.ptype_id&&o.getAllProdTypeDetails(t.ptype_id).then(function(s){200==s.statusCode&&s.response.success&&(e.details=s.response.result,console.log("$scope.details:",e.details))}),e.removethumb=function(){e.details.c_image=null,e.newImage=!1},e.upload=function(s){e.newImage=!0},e.saveProductType=function(){async.waterfall([function(s){t.ptype_id?o.updateProductType(t.ptype_id,e.details).then(function(e){200==e.statusCode&&e.response.success&&(s(null,t.ptype_id),console.log("UPDATE"))}):o.saveProductType(e.details).then(function(e){200==e.statusCode&&e.response.success&&(n.success(e.response.msg,"Success"),s(null,e.response.result),console.log("SUCCESS"))})},function(s,t){console.log("producttype:",s),console.log("$scope.details.ptype_image:",e.details.ptype_image),e.details.ptype_image&&a.upload({url:l+u+"producttype/"+s+"/upload-image",data:{ptype_image:e.details.ptype_image},method:"PUT"}).then(function(s){if(200===s.data.statusCode&&s.data.response.success)e.newImage&&n.success("Image successfully uploaded","Success"),$state.go($state.current,null,{reload:!0});else{if(400!==s.data.statusCode||s.data.response.success||!_.isArray(s.data.response.result))return void n.error(s.data.response.msg,"Error");_.each(s.data.response.result,function(e){n.warning(e.msg,"Warning")})}},function(e){console.log("Error status: "+e.status)},function(e){parseInt(100*e.loaded/e.total)})}])}}angular.module("POS17").controller("producttypeDetailController",e),e.$inject=["$scope","$http","$stateParams","ptypeFactory","Upload","toastr","API_URL","API_VERSION"]}();
!function(){"use strict";angular.module("POS17").config(["$urlRouterProvider","$stateProvider",function(s,e){e.state("main.settings-suppliers",{url:"/settings/suppliers",templateUrl:"modules/suppliers/suppliers.html",controller:"suppliersController"}).state("main.settings-suppliers-add",{url:"/settings/suppliers/:s_id",templateUrl:"modules/suppliers/supplier.detail.html",controller:"suppliersDetailsController"})}])}();
!function(){"use strict";function e(e,s,t,l,o,n,c,r){e.selectDeselectAll=!1,e.selectedDatas=[];var a=function(){e.suppliers={},e.supplierscopy=[],n.getAllSuppliers().then(function(s){if(200==s.statusCode&&s.response.success){var t=s.response.result;c(function(){e.$apply(function(){e.suppliers=t,e.supplierscopy=angular.copy(e.suppliers)}),$(".table").trigger("footable_redraw")},100)}})};e.refresh=function(){a()},e.edit=function(e){l.go("main.settings-suppliers-add",{s_id:e})},e.searchData=function(){e.suppliers=t("filter")(e.supplierscopy,e.txtSearch)},e.paginate=function(){$(".table").trigger("footable_redraw")},e.changeSelectDeselectAll=function(){_.each(e.suppliers,function(s){s.selected=e.selectDeselectAll,e.deleteSomeData=e.selectDeselectAll,e.checkDataChanges(s)})},e.checkDataChanges=function(s){s.selected?_.find(e.selectedDatas,function(e){return e.s_id===s.s_id})||e.selectedDatas.push(s):e.selectedDatas=_.filter(e.selectedDatas,function(e){return e.s_id!==s.s_id}),e.deleteSomeData=e.selectedDatas.length>0},e.toggleModal=function(s){o.openConfirm({templateUrl:"modules/dialog/deleteDialog.html",scope:e,className:"ngdialog-theme-default"}).then(function(){n.deleteSupplier(s).then(function(e){return 200==e.statusCode&&e.response.success?(r.success(e.response.msg,"Success"),void l.reload()):void r.error(e.response.msg,"Error")})},function(e){console.log("Modal promise close: ")})},e.deleteSelected=function(){o.openConfirm({templateUrl:"modules/dialog/deleteDialog.html",scope:e,className:"ngdialog-theme-default"}).then(function(){var s=0;async.each(e.selectedDatas,function(t,o){t.selected&&(console.log("supplier: ",t),n.deleteSupplier(t.s_id).then(function(t){return console.log("data: ",t.response),200==t.statusCode&&t.response.success?(r.success(t.response.msg,"Success"),++s,s==e.selectedDatas.length&&l.reload(),o(),void 0):void r.error(t.response.msg,"Error")}))})})},e.refresh()}angular.module("POS17").controller("suppliersController",e),e.$inject=["$scope","$http","$filter","$state","ngDialog","supplierFctry","$timeout","toastr"]}();
!function(){"use strict";function s(s,e,r,t,n,u,i){s.details={},r.s_id&&t.getAllSuppliersDetails(r.s_id).then(function(e){200==e.statusCode&&e.response.success&&(s.details=e.response.result)}),s.saveSupplier=function(){r.s_id?t.updateSupplier(r.s_id,s.details).then(function(s){if(200==s.statusCode&&s.response.success)i(function(){n.success("Successfully Update","Success"),u.go("main.settings-suppliers",null,{reload:!0})},300);else{if(400!==s.statusCode||s.response.success||!_.isArray(s.response.result))return void n.error(s.response.msg,"Error");_.each(s.response.result,function(s){n.warning(s.msg,"Warning")})}}):t.saveSupplier(s.details).then(function(s){if(200==s.statusCode&&s.response.success)i(function(){n.success("Successfully Added","Success"),u.go("main.settings-suppliers",null,{reload:!0})},300);else{if(400!==s.statusCode||s.response.success||!_.isArray(s.response.result))return void n.error(s.response.msg,"Error");_.each(s.response.result,function(s){n.warning(s.msg,"Warning")})}})}}angular.module("POS17").controller("suppliersDetailsController",s),s.$inject=["$scope","$http","$stateParams","supplierFctry","toastr","$state","$timeout"]}();
!function(){"use strict";angular.module("POS17").config(["$urlRouterProvider","$stateProvider",function(r,a){a.state("main.calendars",{url:"/calendars",templateUrl:"modules/calendar/calendar.html",controller:"calendarCtrl"})}])}();
!function(){"use strict";function e(e){$(function(){function e(e){e.each(function(){var e={title:$.trim($(this).text())};$(this).data("eventObject",e)})}e($("#external-events div.external-event"));var t=new Date,o=t.getDate(),r=t.getMonth(),a=t.getFullYear();$("#calendar").fullCalendar({header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},buttonText:{today:"today",month:"month",week:"week",day:"day"},events:[{title:"All Day Event",start:new Date(a,r,1),backgroundColor:"#f56954",borderColor:"#f56954"},{title:"Long Event",start:new Date(a,r,o-5),end:new Date(a,r,o-2),backgroundColor:"#f39c12",borderColor:"#f39c12"},{title:"Meeting",start:new Date(a,r,o,10,30),allDay:!1,backgroundColor:"#0073b7",borderColor:"#0073b7"},{title:"Lunch",start:new Date(a,r,o,12,0),end:new Date(a,r,o,14,0),allDay:!1,backgroundColor:"#00c0ef",borderColor:"#00c0ef"},{title:"Birthday Party",start:new Date(a,r,o+1,19,0),end:new Date(a,r,o+1,22,30),allDay:!1,backgroundColor:"#00a65a",borderColor:"#00a65a"},{title:"Click for Google",start:new Date(a,r,28),end:new Date(a,r,29),url:"http://google.com/",backgroundColor:"#3c8dbc",borderColor:"#3c8dbc"}],editable:!0,droppable:!0,drop:function(e,t){var o=$(this).data("eventObject"),r=$.extend({},o);r.start=e,r.allDay=t,r.backgroundColor=$(this).css("background-color"),r.borderColor=$(this).css("border-color"),$("#calendar").fullCalendar("renderEvent",r,!0),$("#drop-remove").is(":checked")&&$(this).remove()}});var n="#3c8dbc";$("#color-chooser-btn");$("#color-chooser > li > a").click(function(e){e.preventDefault(),n=$(this).css("color"),$("#add-new-event").css({"background-color":n,"border-color":n})}),$("#add-new-event").click(function(t){t.preventDefault();var o=$("#new-event").val();if(0!=o.length){var r=$("<div />");r.css({"background-color":n,"border-color":n,color:"#fff"}).addClass("external-event"),r.html(o),$("#external-events").prepend(r),e(r),$("#new-event").val("")}})})}angular.module("POS17").controller("calendarCtrl",e),e.$inject=["$scope"]}();
!function(){"use strict";angular.module("POS17").config(["$urlRouterProvider","$stateProvider",function(e,r){r.state("main.settings-humanresource",{url:"/settings/humanresource",templateUrl:"modules/humanresource/humanresource.html",controller:"personController"}).state("main.settings-humanresource-detail",{url:"/settings/humanresource/:id",templateUrl:"modules/humanresource/humanresource.detail.html",controller:"personDetailController"})}])}();
!function(){"use strict";function e(e,s,t,o,n,l,r,c){e.selectDeselectAll=!1,e.applicationStatus="All",e.displayModel="List",e.selectDeselectAll=!1,e.selectedDatas=[];var a=function(){e.persons={},e.personscopy=[],r.getAllPerson().then(function(s){200==s.statusCode&&s.response.success&&(e.persons=s.response.result,console.log("data.response.result:",s.response.result),e.personscopy=angular.copy(e.persons))})};e.refresh=function(){a()},e.edit=function(e){n.go("main.settings-humanresource-detail",{id:e})},e.updateStatus=function(s){e.applicationStatus=s,"All"==s?e.persons=e.personscopy:"Employee"==s?e.persons=o("filter")(e.personscopy,{per_type_id:1}):"Customer"==s&&(e.persons=o("filter")(e.personscopy,{per_type_id:2}))},e.searchData=function(){e.persons=o("filter")(e.personscopy,e.txtSearch)},e.paginate=function(){$(".table").trigger("footable_redraw")},e.changeSelectDeselectAll=function(){_.each(e.persons,function(s){s.selected=e.selectDeselectAll,e.deleteSomeData=e.selectDeselectAll,e.checkDataChanges(s)})},e.checkDataChanges=function(s){s.selected?_.find(e.selectedDatas,function(e){return e.person_id===s.person_id})||e.selectedDatas.push(s):e.selectedDatas=_.filter(e.selectedDatas,function(e){return e.person_id!==s.person_id}),e.deleteSomeData=e.selectedDatas.length>0},e.toggleModal=function(s){l.openConfirm({templateUrl:"modules/dialog/deleteDialog.html",scope:e,className:"ngdialog-theme-default"}).then(function(){r.deletePersonel(s).then(function(e){return 200==e.statusCode&&e.response.success?(c.success(e.response.msg,"Success"),void n.reload()):void c.error(e.response.msg,"Error")})},function(e){console.log("Modal promise close: ")})},e.deleteSelected=function(){l.openConfirm({templateUrl:"modules/dialog/deleteDialog.html",scope:e,className:"ngdialog-theme-default"}).then(function(){var s=0;async.each(e.selectedDatas,function(t,o){t.selected&&(console.log("person: ",t),r.deletePersonel(t.person_id).then(function(t){return console.log("data: ",t.response),200==t.statusCode&&t.response.success?(c.success(t.response.msg,"Success"),++s,s==e.selectedDatas.length&&n.reload(),o(),void 0):void c.error(t.response.msg,"Error")}))})})},e.refresh()}angular.module("POS17").controller("personController",e),e.$inject=["$scope","$rootScope","$http","$filter","$state","ngDialog","personFactory","toastr"]}();
!function(){"use strict";function s(s,e,t,n,o,r,a,u,l){s.stores=[],s.persons=[],s.details={},n.getPersonType().then(function(e){200==e.statusCode&&e.response.success&&(console.log("data:",e.response.success),s.persons=e.response.result)}),async.waterfall([function(s){o.getAllStore().then(function(e){200==e.statusCode&&e.response.success&&s(null,e.response.result)})},function(s,e){n.getTimeZone().then(function(t){200==t.statusCode&&t.response.success&&e(null,s,t.response.result)})},function(e,o,r){s.stores=e,s.timezone=o,t.id&&n.getAllPersonDetail(t.id).then(function(e){200==e.statusCode&&e.response.success&&(s.details=e.response.result,s.details.isActive=1==s.details.isActive,s.details.person_img=s.details.image)})}]),s.removethumb=function(){s.details.person_img=null},s.savePersonel=function(){async.waterfall([function(e){t.id?n.updatePersonel(t.id,s.details).then(function(s){200==s.statusCode&&s.response.success&&(l.success(s.response.msg,"Success"),e(null,t.id))}):n.savePersonel(s.details).then(function(s){200==s.statusCode&&s.response.success&&(l.success(s.response.msg,"Success"),e(null,s.response.result))})},function(t,n){console.log("personel: ",t),console.log("person_img: ",s.details.person_img),s.details.person_img&&r.upload({url:a+u+"persons/"+t+"/upload-image",data:{person_img:s.details.person_img},method:"PUT"}).then(function(s){if(200===s.data.statusCode&&s.data.response.success)l.success("Image successfully uploaded","Success"),e.go("main.settings-humanresource",null,{reload:!0});else{if(400!==s.data.statusCode||s.data.response.success||!_.isArray(s.data.response.result))return void l.error(s.data.response.msg,"Error");_.each(s.data.response.result,function(s){l.warning(s.msg,"Warning")})}},function(s){console.log("Error status: "+s.status)},function(s){parseInt(100*s.loaded/s.total)})}])}}angular.module("POS17").controller("personDetailController",s),s.$inject=["$scope","$state","$stateParams","personFactory","storeFactory","Upload","API_URL","API_VERSION","toastr"]}();
!function(){"use strict";angular.module("POS17").config(["$urlRouterProvider","$stateProvider",function(s,e){e.state("main.settings-useraccounts",{url:"/settings/useraccounts",templateUrl:"modules/useraccess/useraccess.html",controller:"useraccountsCtrl"}).state("main.settings-permissions",{url:"/settings/permissions/:groupId",templateUrl:"modules/useraccess/permission.html",controller:"permissionCtrl"})}])}();
!function(){"use strict";function e(e,s,o,r,n,t,u,l){e.users=[],e.usergroups=[],e.selectDeselectAll=!1,e.selectDeselectAll2=!1,e.changeSelectDeselectAll=function(){_.each(e.users,function(s){s.selected=e.selectDeselectAll})},e.showUserRoles=function(s){e.useraccountRoles=_.map(e.usergroups,function(e){return e.role_id==s})},l.getAllUserGroups().then(function(s){200==s.statusCode&&s.response.success?(e.usergroups=s.response.result,n.info("List of User Groups successfully loaded","Information")):(n.error(s.response.msg,"Error"),callback(null,"error"))}),u.getAllUserAccounts().then(function(s){200==s.statusCode&&s.response.success?(e.users=s.response.result,_.each(e.users,function(s){s.role_id&&(s.userRoles=_.map(s.role_id.split(","),function(s){return _.find(e.usergroups,function(e){return e.role_id==s})}))}),n.info("List of Users successfully loaded","Information")):(n.error(s.response.msg,"Error"),$activityIndicator.stopAnimating(),callback(null,"error"))}),e.newUserAccount=function(e){var r=o.open({animation:!0,templateUrl:"modules/useraccess/users.modal.html",controller:"useraccountCtrl",backdrop:"static",size:"modal-md",resolve:{user:function(){return e}}});r.result.then(function(){s.reload()},function(){console.info("Modal dismissed")})},e.newUserGroup=function(e){console.log("groupID: ",e);var r=o.open({animation:!0,templateUrl:"modules/useraccess/usergroups.modal.html",controller:"usergroupCtrl",backdrop:"static",size:"modal-md",resolve:{userGroup:function(){return e}}});r.result.then(function(e){console.log("response: ",e),"save"===e&&s.reload()},function(){console.info("Modal dismissed")})},e.toggleModal=function(s,o,r){console.log(r),t.openConfirm({templateUrl:"templates/template/deleteDialog.html",scope:e,className:"ngdialog-theme-default"}).then(function(){"users"===r?e.removeUser(s):e.removeUserGroup(s)},function(e){console.log("Modal promise close: ")})},e.removeUserGroup=function(e){console.log("id: ",e),l.deleteUserGroup(e).then(function(e){console.log("data: ",e),200==e.statusCode&&e.response.success?(n.success(e.response.msg,"Success"),r(function(){s.reload()},300)):n.error(e.response.msg,"Error")})},e.removeUser=function(e){u.deleteUserAccount(e).then(function(e){200==e.statusCode&&e.response.success?(n.success(e.response.msg,"Success"),r(function(){s.reload()},300)):n.error(e.response.msg,"Error")})},e.refreshUser=function(){e.users=[],u.getAllUserAccounts().then(function(s){200==s.statusCode&&s.response.success?(e.users=s.response.result,n.info("List of Users successfully loaded","Information")):n.error(s.response.msg,"Error")})},e.refreshUserGroup=function(){e.usergroups=[],l.getAllUserGroups().then(function(s){200==s.statusCode&&s.response.success?(e.usergroups=s.response.result,n.info("List of User Groups successfully loaded","Information")):n.error(s.response.msg,"Error")})}}angular.module("POS17").controller("useraccountsCtrl",e),e.$inject=["$scope","$state","$uibModal","$timeout","toastr","ngDialog","useraccountsFctry","usergroupsFctry"]}();
!function(){"use strict";function e(e,s,r,n,u,o,t){e.inputType="password",e.users={},e.users.valid_until=new Date,e.employees=[],e.usergroups=[],e.popup1={opened:!1},async.waterfall([function(s){o.getAllEmployees().then(function(r){200==r.statusCode&&r.response.success?(e.employees=r.response.result,s(null,r)):s(null,"error")})},function(s,r){t.getAllUserGroups().then(function(s){200==s.statusCode&&s.response.success?(e.usergroups=s.response.result,r(null,e.usergroups)):r(null,"error")})},function(s,o){_.isUndefined(u)||n.getUserAccount(u).then(function(s){if(200==s.statusCode&&s.response.success){if(_.isArray(s.response.result)){e.users=s.response.result[0];var n=e.users.role_id.split(",");e.users.employee=_.find(e.employees,{emp_id:e.users.emp_id}),e.users.role=_.map(n,function(s){return _.find(e.usergroups,function(e){return e.role_id==s})}),e.users.valid_until=new Date(e.users.valid_until)}}else r.error(s.response.msg,"Error")})}]),e.open1=function(){e.popup1.opened=!0},e.hideShowPassword=function(){"password"==e.inputType?e.inputType="text":e.inputType="password"},e.generatePassword=function(){var s=n.generatePasswordString(8);e.users.password=s},e.setDefaultUName=function(s){s&&(e.users.username=s.lastname.toUpperCase())},e.saveUser=function(){var o=[];e.users.person_id=e.users.employee.person_id,e.users.role&&e.users.role.length>0?(_.each(e.users.role,function(e){o.push(e.role_id)}),e.users.role_id=o.join()):e.users.role_id="",_.isUndefined(u)?n.saveUserAccount(e.users).then(function(e){200==e.statusCode&&e.response.success?(r.success(e.response.msg,"Success"),s.close("save")):r.error(e.response.msg,"Error")}):n.updateUserAccount(u,e.users).then(function(e){200==e.statusCode&&e.response.success?(r.success(e.response.msg,"Success"),s.close("save")):r.error(e.response.msg,"Error")})},e.cancelUser=function(){s.dismiss("cancel")}}angular.module("POS17").controller("useraccountCtrl",e),e.$inject=["$scope","$uibModalInstance","toastr","useraccountsFctry","user","personFctry","usergroupsFctry"]}();
!function(){"use strict";angular.module("POS17").controller("usergroupCtrl",function(s,e,r,o,u){_.isUndefined(r)||u.getUserGroupById(r).then(function(e){200==e.statusCode&&e.response.success?_.isArray(e.response.result)&&(s.usergroup=e.response.result[0],console.log("$scope.usergroup: ",s.usergroup)):o.error(e.response.msg,"Error")}),s.saveUserGroup=function(){_.isUndefined(r)?u.createUserGroup(s.usergroup).then(function(s){200==s.statusCode&&s.response.success?(o.success(s.response.msg,"Success"),e.close("save")):o.error(s.response.msg,"Error")}):u.updateUserGroup(r,s.usergroup).then(function(s){200==s.statusCode&&s.response.success?(o.success(s.response.msg,"Success"),e.close("save")):o.error(s.response.msg,"Error")})},s.cancelUserGroup=function(){e.dismiss("cancel")}})}();
!function(){"use strict";function e(e,s,n,t,r,i){e.permissions=[],e.Groups=[],e.usergroups=[],e.isReset=!0,e.isUpdate=!0,e.generateAccessPermission=function(n){e.permissions=[],s(function(){_.isUndefined(n)?e.clear():r.generateAccessPermission(n).then(function(s){if(console.log("data: ",s),200==s.statusCode&&s.response.success){e.isUpdate=!1,e.isReset=!1;var n=s.response.result;n.length>0&&(e.permissions=n,_.each(e.permissions,function(e){e.DefaultReadDisable=!1,e.DefaultWriteDisable=!1,e.DefaultDeleteDisable=!1,e.DefaultPrintDisable=!1}))}})},300)},e.clear=function(){e.isUpdate=!0,e.isReset=!0,e.usergroupSelected=void 0,e.permissions=[],r.getAllModulesPermissions().then(function(s){if(200==s.statusCode&&s.response.success){var n=s.response.result;n.length>0&&(e.permissions=n,_.each(e.permissions,function(e){e.DefaultRead=!1,e.DefaultReadDisable=!0,e.DefaultWrite=!1,e.DefaultWriteDisable=!0,e.DefaultDelete=!1,e.DefaultDeleteDisable=!0,e.DefaultPrint=!1,e.DefaultPrintDisable=!0}))}})},e.reloadData=function(){_.isUndefined(e.usergroup)?e.clear():e.generateAccessPermission(e.usergroup.role_id)},e.UpdatePermission=function(){e.newPermission=angular.copy(e.permissions),r.setGroupPrivilege(e.usergroupSelected.role_id,e.newPermission).then(function(s){200==s.statusCode&&s.response.success?(t.success(s.response.msg,"Success"),e.reloadData()):t.error(s.response.msg,"Error")})},e.IntToBoolean=function(e){return 1==e},e.BooleanToInt=function(e){return e===!0?1:0},e.myFunction=function(){angular.element(document).ready(function(){$("#myTable").each(function(){var e=1,s=null,n=1;$("tbody",this).find("tr").each(function(){var t=$(this).find("td:nth-child("+e+")");null==s?(s=t,n=1):$(t).scope().row.name==$(s).scope().row.name?(t.remove(),s.attr("rowspan",n+1),n+=1):(s=t,n=1)})})})},_.isUndefined(n.groupId)?r.getAllModulesPermissions().then(function(s){if(200==s.statusCode&&s.response.success){var n=s.response.result;n.length>0&&(e.permissions=n,_.each(e.permissions,function(e){e.DefaultRead=!1,e.DefaultReadDisable=!0,e.DefaultWrite=!1,e.DefaultWriteDisable=!0,e.DefaultDelete=!1,e.DefaultDeleteDisable=!0,e.DefaultPrint=!1,e.DefaultPrintDisable=!0}),callback(null,e.permissions))}}):i.getUserGroupById(n.groupId).then(function(s){200==s.statusCode&&s.response.success?_.isArray(s.response.result)&&(e.usergroup=s.response.result[0],e.generateAccessPermission(e.usergroup.role_id)):t.error(s.response.msg,"Error")})}angular.module("POS17").controller("permissionCtrl",e),e.$inject=["$scope","$timeout","$stateParams","toastr","permissionFctry","usergroupsFctry"]}();
!function(){"use strict";function t(t,e,r){}angular.module("POS17").config(["$urlRouterProvider","$stateProvider",function(t,e){e.state("main.settings-profile",{url:"/settings/profile",templateUrl:"modules/profile/profile.html",controller:"ProfileCtrl"})}]).controller("ProfileCtrl",t),t.$inject=["$scope","$state","AuthFctry"]}();
!function(){"use strict";angular.module("POS17").config(["$urlRouterProvider","$stateProvider",function(e,r){r.state("main.reports-invoice",{url:"/reports/invoice",templateUrl:"modules/reports/invoice.html"})}])}();
!function(){"use strict";function t(t,s,e,o,r,n){t.currentPage=1,t.itemsPerPage=4,t.productIsLoading=!0,e.getAllProduct().then(function(e){if(t.products=[],200==e.statusCode&e.response.success){var o=e.response.result;s(function(){t.$apply(function(){t.products=o}),t.totalItems=t.products.length,s(function(){t.productIsLoading=!1},2e3)},100)}}),o.getAllPerson().then(function(e){if(t.persons=[],200==e.statusCode&&e.response.result){t.totalPersonel=e.response.result.length;var o=e.response.result;s(function(){t.$apply(function(){t.persons=o}),s(function(){t.productIsLoading=!1},2e3)},100)}}),async.waterfall([function(t){n.getAllUserGroups().then(function(s){200==s.statusCode&&s.response.success?t(null,s.response.result):(toastr.error(s.response.msg,"Error"),t(null,"error"))})},function(e,o){r.getAllUserAccounts().then(function(o){if(t.useraccounts=[],200==o.statusCode&&o.response.success){var r=o.response.result;_.each(r,function(t){t.role_id&&(t.userRoles=_.map(t.role_id.split(","),function(t){return _.find(e,function(s){return s.role_id==t})}))}),s(function(){t.$apply(function(){t.useraccounts=r}),s(function(){t.productIsLoading=!1},2e3)},100)}})}])}angular.module("POS17").config(["$stateProvider",function(t){t.state("main.dashboard",{url:"/dashboard",templateUrl:"modules/dashboard/dashboard1.html",controller:"DashboardCtrl"})}]).controller("DashboardCtrl",t),t.$inject=["$scope","$timeout","productFactory","personFactory","useraccountsFctry","usergroupsFctry"]}();
!function(){"use strict";angular.module("POS17").directive("errSrc",function(){return{link:function(t,e,i){t.$watch(function(){return i.ngSrc},function(t){t||e.attr("src",i.errSrc)}),e.bind("error",function(){e.attr("src",i.errSrc)})}}}).directive("sidebar",function(){return{restrict:"C",compile:function(t,e,i){$.AdminLTE.tree(t)}}}).directive("header",function(){return{restrict:"E",templateUrl:"./modules/templates/header.html",compile:function(t,e,i){$.AdminLTE.pushMenu($(t).find(".sidebar-toggle"))}}}).directive("knob",function(){return{restrict:"C",compile:function(t,e,i){t.knob({draw:function(){if("tron"==this.$.data("skin")){var t,e=this.angle(this.cv),i=this.startAngle,n=this.startAngle,r=n+e,s=!0;return this.g.lineWidth=this.lineWidth,this.o.cursor&&(n=r-.3)&&(r+=.3),this.o.displayPrevious&&(t=this.startAngle+this.angle(this.value),this.o.cursor&&(i=t-.3)&&(t+=.3),this.g.beginPath(),this.g.strokeStyle=this.previousColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,i,t,!1),this.g.stroke()),this.g.beginPath(),this.g.strokeStyle=s?this.o.fgColor:this.fgColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,n,r,!1),this.g.stroke(),this.g.lineWidth=2,this.g.beginPath(),this.g.strokeStyle=this.o.fgColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth+1+2*this.lineWidth/3,0,2*Math.PI,!1),this.g.stroke(),!1}}})}}}).directive("sparkline",function(){return{restrict:"C",compile:function(t,e,i){t.each(function(){var t=$(this);t.sparkline("html",t.data())})}}}).directive("box",function(){return{restrict:"C",compile:function(t,e,i){var n=this;$(t).find(this.boxWidgetOptions.boxWidgetSelectors.collapse).click(function(t){t.preventDefault(),n.collapse($(this))}),$(t).find(this.boxWidgetOptions.boxWidgetSelectors.remove).click(function(t){t.preventDefault(),n.remove($(this))})},collapse:function(t){var e=t.parents(".box").first(),i=e.find(".box-body, .box-footer");e.hasClass("collapsed-box")?(t.children(".fa-plus").removeClass("fa-plus").addClass("fa-minus"),i.slideDown(300,function(){e.removeClass("collapsed-box")})):(t.children(".fa-minus").removeClass("fa-minus").addClass("fa-plus"),i.slideUp(300,function(){e.addClass("collapsed-box")}))},remove:function(t){var e=t.parents(".box").first();e.slideUp()},boxWidgetOptions:{boxWidgetIcons:{collapse:"fa fa-minus",open:"fa fa-plus",remove:"fa fa-times"},boxWidgetSelectors:{remove:'[data-widget="remove"]',collapse:'[data-widget="collapse"]'}}}}).directive("chat",function(){return{restrict:"E",templateUrl:"./modules/templates/direct-chat.html",scope:{type:"@",title:"@",count:"@count",messages:"=messages"},replace:!0,compile:function(t,e){return t.find("[data-widget='chat-pane-toggle']").click(function(){$(this).parents(".direct-chat").first().toggleClass("direct-chat-contacts-open")}),{pre:function(t,e,i){},post:function(t,e,i){}}}}}).directive("repeatEnd",function(){return{restrict:"A",link:function(t,e,i){t.$last&&t.$eval(i.repeatEnd)}}}).directive("ngRepeatEndWatch",function(){return{restrict:"A",scope:{},link:function(t,e,i){if(!i.ngRepeat)throw"ngRepeatEndWatch: `ngRepeat` Directive required to use this Directive";t.$parent.$last&&(""!==i.ngRepeatEndWatch?"function"==typeof t.$parent.$parent[i.ngRepeatEndWatch]?t.$parent.$parent[i.ngRepeatEndWatch]():t.$parent.$parent[i.ngRepeatEndWatch]=!0:t.$parent.$parent.ngRepeatEnd=!0)}}}).directive("infiniteScroll",["$rootScope","$window","$timeout",function(t,e,i){return{link:function(n,r,s){var o,c,a,l;return e=angular.element(e),r.css("overflow-y","auto"),r.css("overflow-x","hidden"),r.css("height","inherit"),a=0,null!=s.infiniteScrollDistance&&n.$watch(s.infiniteScrollDistance,function(t){return a=parseInt(t,10)}),l=!0,o=!1,null!=s.infiniteScrollDisabled&&n.$watch(s.infiniteScrollDisabled,function(t){return l=!t,l&&o?(o=!1,c()):void 0}),t.$on("refreshStart",function(){r.animate({scrollTop:"0"})}),c=function(){var e,i,c,h,u;return e=$(r.children()[0]),i=r.offset().top+r.height(),u=e.offset().top+e.height(),c=u-i,h=c<=r.height()*a,h&&l?t.$$phase?n.$eval(s.infiniteScroll):n.$apply(s.infiniteScroll):h?o=!0:void 0},r.on("scroll",c),n.$on("$destroy",function(){return e.off("scroll",c)}),i(function(){return s.infiniteScrollImmediateCheck?n.$eval(s.infiniteScrollImmediateCheck)?c():void 0:c()},0)}}}])}();
!function(){"use strict";function t(t,n,u){return{getAllProduct:function(){return t.all("product").customGET().then(function(t){return t},function(t){return t.data})},getProductDetails:function(n){return t.all("product").customGET(n).then(function(t){return t},function(t){return t.data})},deleteProduct:function(n){return t.all("products").customDELETE(n).then(function(t){return t},function(t){return t.data})},saveProduct:function(n){return t.all("product").customPOST(n).then(function(t){return t},function(t){return t.data})},updateProduct:function(n,u){return t.all("product").customPUT(u,n).then(function(t){return t},function(t){return t.data})},archiveProduct:function(n){return t.all("product/"+n+"/archive").customPUT().then(function(t){return t},function(t){return t.data})},publishProduct:function(n){return t.all("product/"+n+"/publish").customPUT().then(function(t){return t},function(t){return t.data})},deleteProductCategory:function(n){return t.all("product/"+n+"/category").customDELETE().then(function(t){return t},function(t){return t.data})},getProductsCategory:function(n){return t.all("product/"+n+"/category").customGET().then(function(t){return t},function(t){return t.data})},saveProductsCategory:function(n,u){return t.all("product/"+n+"/category").customPUT(u).then(function(t){return t},function(t){return t.data})},getProductAttributes:function(n){return t.all("product/"+n+"/attributes").customGET().then(function(t){return t},function(t){return t.data})}}}angular.module("POS17").factory("productFactory",t),t.$inject=["Restangular","API_URL","toastr"]}();
!function(){"use strict";function t(t,n,r){return{getAllStore:function(){return t.all("store").customGET().then(function(t){return t},function(t){return t.data})},getStoreDetails:function(n){return t.all("store").customGET(n).then(function(t){return t},function(t){return t.data})},updateStore:function(n,r){return t.all("store/"+n).customPUT(r).then(function(t){return t},function(t){return t.data})},saveStore:function(n){return t.all("store").customPOST(n).then(function(t){return t},function(t){return t.data})},deleteStore:function(n){return t.all("store").customDELETE(n).then(function(t){return t},function(t){return t.data})}}}angular.module("POS17").factory("storeFactory",t),t.$inject=["Restangular","API_URL","toastr"]}();
!function(){"use strict";function n(n,t,r,u){return{getAllBanks:function(){return n.all("banks").customGET().then(function(n){return n},function(n){var t=u.error(n.data.response.msg,"Error");return t})},getBankDetails:function(t){return n.all("banks").customGET(t).then(function(n){return n},function(n){var t=u.error(n.data.response.msg,"Error");return t})},updateBank:function(t,r){return n.all("banks/"+t).customPUT(r).then(function(n){return n},function(n){return n.data})},saveBank:function(t){return n.all("banks").customPOST(t).then(function(n){return n},function(n){return n.data})},deleteBank:function(t){return n.all("banks").customDELETE(t).then(function(n){return n},function(n){return n.data})}}}angular.module("POS17").factory("bankFctry",n),n.$inject=["Restangular","API_URL","API_VERSION","toastr"]}();
!function(){"use strict";function t(t,u,n){return{getAllAttribute:function(){return t.all("attributes").customGET().then(function(t){return t},function(t){return t.data})},getAllAttributeDetails:function(u){return t.all("attributes").customGET(u).then(function(t){return t},function(t){return t.data})},getAttributeGroupDetails:function(u){return t.all("attributegroup").customGET(u).then(function(t){return t},function(t){return t.data})},saveAttributeGroup:function(u){return t.all("attributegroup").customPOST(u).then(function(t){return t},function(t){return t.data})},deleteAttribute:function(u){return t.all("attributes").customDELETE(u).then(function(t){return t},function(t){return t.data})},updateAttributeGroup:function(u,n){return t.all("attributegroup/"+u).customPUT(n).then(function(t){return t},function(t){return t.data})},getAllAttributeGroup:function(){return t.all("attributegroup").customGET().then(function(t){return t},function(t){return t.data})},deleteAttributeGroup:function(u){return t.all("attributegroup").customDELETE(u).then(function(t){return t},function(t){return t.data})},getAllAttributeTypes:function(){return t.all("attributeTypes").customGET().then(function(t){return t},function(t){return t.data})},saveAttribute:function(u){return t.all("attributes").customPOST(u).then(function(t){return t},function(t){return t.data})},updateAttribute:function(u,n){return t.all("attributes/"+u).customPUT(n).then(function(t){return t},function(t){return t.data})},getAllAttributeValues:function(){return t.all("attributevalues").customGET().then(function(t){return t},function(t){return t.data})}}}angular.module("POS17").factory("attributeFactory",t),t.$inject=["Restangular","API_URL","toastr"]}();
!function(){"use strict";function r(r,t,e){return{getAllCategory:function(){return r.all("categories").customGET().then(function(r){return r},function(r){var t=e.error(r.data.response.msg,"Error");return t})},getCategoryDetails:function(t){return r.all("categories").customGET(t).then(function(r){return r},function(r){var t=e.error(r.data.response.msg,"Error");return t})},saveCategory:function(t){return r.all("categories").customPOST(t).then(function(r){return r},function(r){var t=e.error(r.data.response.msg,"Error");return t})},updateCategory:function(t,n){return r.all("categories/"+t).customPUT(n).then(function(r){return r},function(r){var t=e.error(r.data.response.msg,"Error");return t})},deleteCategory:function(t){return r.all("categories").customDELETE(t).then(function(r){return r},function(r){var t=e.error(r.data.response.msg,"Error");return t})}}}angular.module("POS17").factory("categoryFactory",r),r.$inject=["Restangular","API_URL","toastr"]}();
!function(){"use strict";function r(r,t,n,e){return{getAllProdType:function(){return r.all("productType").customGET().then(function(r){return r},function(r){var t=e.error(r.data.response.msg,"Error");return t})},getAllProdTypeDetails:function(t){return r.all("productType").customGET(t).then(function(r){return r},function(r){var t=e.error(r.data.response.msg,"Error");return t})},saveProductType:function(t){return r.all("productType").customPOST(t).then(function(r){return r},function(r){var t=e.error(r.data.response.msg,"Error");return t})},updateProductType:function(t,n){return r.all("productType/"+t).customPUT(n).then(function(r){return r},function(r){var t=e.error(r.data.response.msg,"Error");return t})},deleteProductType:function(t){return r.all("producttype").customDELETE(t).then(function(r){return r},function(r){var t=e.error(r.data.response.msg,"Error");return t})}}}angular.module("POS17").factory("ptypeFactory",r),r.$inject=["Restangular","API_URL","Upload","toastr"]}();
!function(){"use strict";function t(t,n,u){return{getAllSuppliers:function(){return t.all("supplier").customGET().then(function(t){return t},function(t){return t.data})},getAllSuppliersDetails:function(n){return t.all("supplier").customGET(n).then(function(t){return t},function(t){return t.data})},saveSupplier:function(n){return t.all("supplier").customPOST(n).then(function(t){return t},function(t){return t.data})},updateSupplier:function(n,u){return t.all("supplier/"+n).customPUT(u).then(function(t){return t},function(t){return t.data})},deleteSupplier:function(n){return t.all("supplier").customDELETE(n).then(function(t){return t},function(t){return t.data})}}}angular.module("POS17").factory("supplierFctry",t),t.$inject=["Restangular","API_URL","toastr"]}();
!function(){"use strict";function r(r,t,n){return{getAllVariation:function(){return r.all("variation").customGET().then(function(r){return r},function(r){var t=n.error(r.data.response.msg,"Error");return t})}}}angular.module("POS17").factory("variationFactory",r),r.$inject=["Restangular","API_URL","toastr"]}();
!function(){"use strict";function n(n,t,e){return{getAllPerson:function(){return n.all("persons").customGET().then(function(n){return n},function(n){return n.data})},getAllPersonDetail:function(t){return n.all("persons").customGET(t).then(function(n){return n},function(n){return n.data})},savePersonel:function(t){return n.all("persons").customPOST(t).then(function(n){return n},function(n){return n.data})},updatePersonel:function(t,e){return n.all("persons/"+t).customPUT(e).then(function(n){return n},function(n){return n.data})},getPersonType:function(){return n.all("persontype").customGET().then(function(n){return n},function(n){return n.data})},getImage:function(t,e){return n.all("persontype/"+t).customPUT(e).then(function(n){return n},function(n){return n.data})},getTimeZone:function(){return n.all("timezones").customGET().then(function(n){return n},function(n){return n.data})},deletePersonel:function(t){return n.all("persons").customDELETE(t).then(function(n){return n},function(n){return n.data})}}}angular.module("POS17").factory("personFactory",n),n.$inject=["Restangular","API_URL","toastr"]}();
!function(){"use strict";function r(r,n,t){return{generatePasswordString:function(r){for(var n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=0;r>e;e++)n+=t.charAt(Math.floor(Math.random()*t.length));return n},getAllUserAccounts:function(){return r.all("useraccounts").customGET().then(function(r){return r},function(r){t.error(r.data.response.msg,"Error")})},saveUserAccount:function(n){return r.all("useraccounts").customPOST(n).then(function(r){return r},function(r){t.error(r.data.response.msg,"Error")})},getUserAccount:function(n){return r.all("useraccounts").customGET(n).then(function(r){return r}),function(r){t.error(r.data.response.msg,"Error")}},updateUserAccount:function(n,e){return r.all("useraccounts/"+n).customPUT(e).then(function(r){return r},function(r){t.error(r.data.response.msg,"Error")})},deleteUserAccount:function(n){return r.all("useraccounts").customDELETE(n).then(function(r){return r}),function(r){t.error(r.data.response.msg,"Error")}}}}function n(r,n,t){return{createUserGroup:function(n){return r.all("usergroups").customPOST(n).then(function(r){return r},function(r){var n=t.error(r.data.response.msg,"Error");return n})},getAllUserGroups:function(){return r.all("usergroups").customGET().then(function(r){return r},function(r){var n=t.error(r.data.response.msg,"Error");return n})},getUserGroupById:function(n){return r.all("usergroups").customGET(n).then(function(r){return r},function(r){var n=t.error(r.data.response.msg,"Error");return n})},deleteUserGroup:function(n){return r.all("usergroups").customDELETE(n).then(function(r){return r},function(r){var n=t.error(r.data.response.msg,"Error");return n})},updateUserGroup:function(n,e){return r.all("usergroups/"+n).customPUT(e).then(function(r){return r.data},function(r){var n=t.error(r.data.response.msg,"Error");return n})}}}function t(r,n,t){return{getAllModulesPermissions:function(){return r.all("/modules/permissions").customGET().then(function(r){return r},function(r){var n=t.error(r.data.response.msg,"Error");return n})},generateAccessPermission:function(n){return r.all("useraccounts/"+n+"/permissions").customGET().then(function(r){return r},function(r){var n=t.error(r.data.response.msg,"Error");return n})},setGroupPrivilege:function(n,e){return r.all("useraccounts/"+n+"/permissions").customPUT(e).then(function(r){return r},function(r){var n=t.error(r.data.response.msg,"Error");return n})}}}angular.module("POS17").factory("useraccountsFctry",r).factory("usergroupsFctry",n).factory("permissionFctry",t),r.$inject=["Restangular","API_URL","toastr"],n.$inject=["Restangular","API_URL","toastr"],t.$inject=["Restangular","API_URL","toastr"]}();
!function(){"use strict";function r(r,n,t){return{getAllEmployees:function(){return r.all("persons").customGET().then(function(r){return r},function(r){var n=t.error(r.data.response.msg,"Error");return n})},saveEmployee:function(n){return r.all("persons").customPOST(n).then(function(r){return r.data},function(r){var n=t.error(r.data.response.msg,"Error");return n})},updateEmployee:function(n,e){return r.all("persons/"+n).customPUT(e).then(function(r){return r.data},function(r){var n=t.error(r.data.response.msg,"Error");return n})},deleteEmployee:function(n){return r.all("persons").customDELETE(n).then(function(r){return r.data},function(r){var n=t.error(r.data.response.msg,"Error");return n})},getEmployee:function(n){return r.all("persons").customGET(n).then(function(r){return r.data},function(r){var n=t.error(r.data.response.msg,"Error");return n})}}}angular.module("POS17").factory("personFctry",r),r.$inject=["Restangular","API_URL","toastr"]}();
!function(){"use strict";function r(r,n,t){return{getAllCurrencies:function(){return r.all("currencies").customGET().then(function(r){return r},function(r){var n=t.error(r.data.response.msg,"Error");return n})}}}angular.module("POS17").factory("currencyFactory",r),r.$inject=["Restangular","API_URL","toastr"]}();
!function(){"use strict";function e(e,r,t,n){return{authenticate:function(r){return e.all("session").customPOST(r).then(function(e){return e},function(e){var r=toastr.error(e.data.response.msg,"Error");return r})},logout:function(){return e.all("session").customDELETE().then(function(e){return e},function(e){var r=toastr.error(e.data.response.msg,"Error");return r})},userprofile:function(){return e.all("session").customGET().then(function(e){return e},function(e){var r=toastr.error(e.data.response.msg,"Error");return r})},setUserToken:function(e){n.set("token",e)},getUserToken:function(){return n.get("token")},setCurrentUser:function(e){n.set("user",e)},getCurrentUser:function(){return n.get("user")}}}function r(e,r,t,n,o,u){return{request:function(e){if(e.headers=e.headers||{},u.get("token")){var r=u.get("token");e.headers.Authorization="Bearer "+r;var t=o.decodeToken(r);t&&(e.headers.accesskey=t.subscriptionKey)}return e},response:function(e){if(u.get("token")){var r=u.get("token");o.isTokenExpired(r)&&(u.remove("token"),u.remove("user"),t.path("/login"))}return e},responseError:function(r){return 401===r.status&&(e.$broadcast("unauthorized"),t.path("/login")),r}}}angular.module("POS17").factory("AuthFctry",e).factory("authInterceptor",r),e.$inject=["Restangular","API_URL","API_VERSION","localStorageService"],r.$inject=["$rootScope","$q","$location","$injector","jwtHelper","localStorageService"]}();
!function(){"use strict";function r(r,t,n){return{getPriceHistory:function(t){return r.all("pricehistory").customGET(t).then(function(r){return r},function(r){var t=n.error(r.data.response.msg,"Error");return t})},getStoreP:function(t){return r.all("storeowner").customGET(t).then(function(r){return r},function(r){var t=n.error(r.data.response.msg,"Error");return t})},deleteSP:function(t){return r.all("pricehistory").customGET(t).then(function(r){return r},function(r){var t=n.error(r.data.response.msg,"Error");return t})},saveSP:function(t,e){return r.all("pricehistory/"+t).customPUT(e).then(function(r){return r},function(r){var t=n.error(r.data.response.msg,"Error");return t})},updateSP:function(t,e){return r.all("detail/"+t).customPUT(e).then(function(r){return r.data},function(r){var t=n.error(r.data.response.msg,"Error");return t})}}}angular.module("POS17").factory("priceHistoryFactory",r),r.$inject=["Restangular","API_URL","toastr"]}();
!function(){"use strict";function r(){return function(r,e){var n=[];return angular.isArray(r)?r.forEach(function(r){for(var t=!1,i=Object.keys(e),u=0;u<i.length;u++){var o=i[u],a=e[o].toLowerCase();if(-1!==r[o].toString().toLowerCase().indexOf(a)){t=!0;break}}t&&n.push(r)}):n=r,n}}function e(r){return function(e,n){return r("number")(100*e,n)+"%"}}angular.module("POS17").filter("propsFilter",r).filter("percentage",e),e.$inject=["$filter"]}();